<html>
<head>
  <meta name="generator" content="DokuWiki Release 2005-09-22e" />
  <link rel="start" href="index.html" />
  <link rel="contents" href="doku.php%3Fid=strawman:string_padding&amp;do=index.html" title="" />
  <link rel="alternate" type="application/rss+xml" title="Recent Changes" href="feed.php" />
  <link rel="alternate" type="application/rss+xml" title="Current Namespace" href="feed.php%3Fmode=list&amp;ns=strawman" />
  <link rel="alternate" type="text/html" title="Plain HTML" href="doku.php%3Fid=strawman:string_padding&amp;do=export_html.html" />
  <link rel="alternate" type="text/plain" title="Wiki Markup" href="doku.php%3Fid=strawman:string_padding&amp;do=export_raw" />
  <link rel="stylesheet" media="screen" type="text/css" href="lib/styles/style.css" />
  <meta name="robots" content="noindex,nofollow" />
  <script language="javascript" type="text/javascript" charset="utf-8">
    var alertText   = 'Please enter the text you want to format.\nIt will be appended to the end of the document.'
    var notSavedYet = 'Unsaved changes will be lost.\nReally continue?'
    var DOKU_BASE   = '/'
  </script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/script.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/tw-sack.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/ajax.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/domLib.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/domTT.js"></script>
  <link rel="stylesheet" type="text/css" href="lib/plugins/plugin/style.css" />
</head>
<body>

<a name="string_padding_functions"></a><h4>String padding functions.</h4>
<div class="level4">

<p>
 This initial proposal was drafted by <a href="mailto:%26%23x6b%3B%26%23x65%3B%26%23x76%3B%26%23x69%3B%26%23x6e%3B%26%23x67%3B%26%23x72%3B%26%23x61%3B%26%23x6e%3B%26%23x64%3B%26%23x6f%3B%26%23x6e%3B%26%23x40%3B%26%23x79%3B%26%23x61%3B%26%23x68%3B%26%23x6f%3B%26%23x6f%3B%26%23x2e%3B%26%23x63%3B%26%23x6f%3B%26%23x6d%3B" class="mail" title="&#x6b;&#x65;&#x76;&#x69;&#x6e;&#x67;&#x72;&#x61;&#x6e;&#x64;&#x6f;&#x6e;&#x40;&#x79;&#x61;&#x68;&#x6f;&#x6f;&#x2e;&#x63;&#x6f;&#x6d;">Kevin Grandon</a> with input from <a href="mailto:%26%23x77%3B%26%23x61%3B%26%23x6c%3B%26%23x64%3B%26%23x72%3B%26%23x6f%3B%26%23x6e%3B%26%23x2e%3B%26%23x72%3B%26%23x69%3B%26%23x63%3B%26%23x6b%3B%26%23x40%3B%26%23x67%3B%26%23x6d%3B%26%23x61%3B%26%23x69%3B%26%23x6c%3B%26%23x2e%3B%26%23x63%3B%26%23x6f%3B%26%23x6d%3B" class="mail" title="&#x77;&#x61;&#x6c;&#x64;&#x72;&#x6f;&#x6e;&#x2e;&#x72;&#x69;&#x63;&#x6b;&#x40;&#x67;&#x6d;&#x61;&#x69;&#x6c;&#x2e;&#x63;&#x6f;&#x6d;">Rick Waldron</a> and <a href="mailto:%26%23x64%3B%26%23x68%3B%26%23x65%3B%26%23x72%3B%26%23x6d%3B%26%23x61%3B%26%23x6e%3B%26%23x40%3B%26%23x63%3B%26%23x63%3B%26%23x73%3B%26%23x2e%3B%26%23x6e%3B%26%23x65%3B%26%23x75%3B%26%23x2e%3B%26%23x65%3B%26%23x64%3B%26%23x75%3B" class="mail" title="&#x64;&#x68;&#x65;&#x72;&#x6d;&#x61;&#x6e;&#x40;&#x63;&#x63;&#x73;&#x2e;&#x6e;&#x65;&#x75;&#x2e;&#x65;&#x64;&#x75;">Dave Herman</a>. These proposals will be presented for inclusion in ecma-262, 7th edition.
</p>
<pre class="code javascript">String.<span class="me1">prototype</span>.<span class="me1">padLeft</span><span class="br0">&#40;</span>minLength, fillStr = <span class="st0">' '</span><span class="br0">&#41;</span>;
&nbsp;
String.<span class="me1">prototype</span>.<span class="me1">padRight</span><span class="br0">&#40;</span>minLength, fillStr = <span class="st0">' '</span><span class="br0">&#41;</span>;</pre>
<p>
<strong>Rationale:</strong>
</p>

<p>
Without a reasonable way to pad a string using native methods, working with Javascript strings today is more painful than it should be. Without these functions, the language feels incomplete, and is a paper cut to what could be a very polished experience.
</p>

<p>
Due to common use, string padding functions exist in a majority of websites and frameworks. For example, nearly every app in FirefoxOS had implemented a left pad function, because they all needed some generic string padding operation.
</p>

<p>
It is highly probable that the majority of current string padding implementations are inefficient. Bringing this into the platform will improve performance of the web, and developer productivity as they no longer have to implement these common functions. 
</p>

<p>
 <strong>Arguments:</strong>
</p>

<p>
<code>minLength: (Integer, Optional)</code> The total minimum length of the return string. The new string will be constructed as the original string, plus any additional padding characters required to fill the minimum length.
</p>

<p>
<code>fillStr:  (String, Optional, Default=&rsquo; &lsquo;)</code> The string to pad the original string with. The string may be truncated if the string length is not evenly divisible by the remaining characters to fill. For internationalization purposes, a string is used here to ensure compatibility with 32-bit unicode characters.
</p>

<p>
 <strong>Return:</strong>
</p>

<p>
Returns a new padded string, which meets the minimum length specified.
</p>

<p>
 <strong>padLeft specification</strong>
</p>

<p>
1. Let <em>O</em> be CheckObjectCoercible(<strong>this</strong> value).
</p>

<p>
2. Let <em>S</em> be ToString(O).
</p>

<p>
3. ReturnIfAbrupt(S).
</p>

<p>
4. Let <em>intMinLength</em> be ToInteger(minLength).
</p>

<p>
5. ReturnIfAbrupt(intMinLength).
</p>

<p>
4. If <em>intMinLength</em> is <strong>undefined</strong>, return <em>S</em>.
</p>

<p>
5. Let <em>fillLen</em> be the number of characters in <em>S</em> minus <em>intMinLength</em>.
</p>

<p>
6. If <em>fillLen</em> &lt; 0, then throw a <strong>RangeError</strong> exception.
</p>

<p>
7. If <em>fillLen</em> is +∞, then throw a <strong>RangeError</strong> exception.
</p>

<p>
8. Let <em>sFillStr</em> be the string represented by fillStr.
</p>

<p>
9. If <em>sFillStr</em> is <strong>undefined</strong>, let <em>sFillStr</em> be a space character.
</p>

<p>
10. Let <em>sFillVal</em> be a <em>String</em> made of <em>sFillStr</em>, repeated until <em>fillLen</em> is met.
</p>

<p>
11. Return a string made from <em>sFillVal</em>, followed by <em>S</em>.
</p>

<p>
 <strong>padRight specification</strong>
</p>

<p>
1. Let <em>O</em> be CheckObjectCoercible(<strong>this</strong> value).
</p>

<p>
2. Let <em>S</em> be ToString(O).
</p>

<p>
3. ReturnIfAbrupt(S).
</p>

<p>
4. Let <em>intMinLength</em> be ToInteger(minLength).
</p>

<p>
5. ReturnIfAbrupt(intMinLength).
</p>

<p>
4. If <em>intMinLength</em> is <strong>undefined</strong>, return <em>S</em>.
</p>

<p>
5. Let <em>fillLen</em> be the number of characters in <em>S</em> minus <em>intMinLength</em>.
</p>

<p>
6. If <em>fillLen</em> &lt; 0, then throw a <strong>RangeError</strong> exception.
</p>

<p>
7. If <em>fillLen</em> is +∞, then throw a <strong>RangeError</strong> exception.
</p>

<p>
8. Let <em>sFillStr</em> be the string represented by fillStr.
</p>

<p>
9. If <em>sFillStr</em> is <strong>undefined</strong>, let <em>sFillStr</em> be a space character.
</p>

<p>
10. Let <em>sFillVal</em> be a <em>String</em> made of <em>sFillStr</em>, repeated until <em>fillLen</em> is met.
</p>

<p>
11. Return a String made from <em>S</em>, followed by <em>sFillVal</em>.
</p>

<p>
 <strong>Naming convention:</strong>
</p>

<p>
Currently named padLeft and padRight for berevity and readability, but we are willing to consider alternatives. Potential alternatives include ljust and rjust,  or the more verbose padLeft and padRight. See the next precedents section.
</p>

<p>
 <strong>Precedents:</strong>
</p>

<p>
Python
</p>
<pre class="code python">ljust<span class="br0">&#40;</span>integer, fillChar=<span class="st0">' '</span><span class="br0">&#41;</span>
rjust<span class="br0">&#40;</span>integer, fillChar=<span class="st0">' '</span><span class="br0">&#41;</span></pre>
<p>
Ruby
</p>
<pre class="code ruby">ljust<span class="br0">&#40;</span><span class="kw3">integer</span>, fillChar=' '<span class="br0">&#41;</span>
rjust<span class="br0">&#40;</span><span class="kw3">integer</span>, fillChar=' '<span class="br0">&#41;</span></pre>
</div>

<!-- cachefile /usr/local/www/es-lang.org/wiki/data/cache/8/89c8d9eda0170f9a16edf76fd3446478.xhtml used -->
</body>
</html>
