<html>
<head>
  <meta name="generator" content="DokuWiki Release 2005-09-22e" />
  <link rel="start" href="index.html" />
  <link rel="contents" href="doku.php%3Fid=features_specs:line_continuation_in_strings&amp;do=index.html" title="" />
  <link rel="alternate" type="application/rss+xml" title="Recent Changes" href="feed.php" />
  <link rel="alternate" type="application/rss+xml" title="Current Namespace" href="feed.php%3Fmode=list&amp;ns=features_specs" />
  <link rel="alternate" type="text/html" title="Plain HTML" href="doku.php%3Fid=features_specs:line_continuation_in_strings&amp;do=export_html.html" />
  <link rel="alternate" type="text/plain" title="Wiki Markup" href="doku.php%3Fid=features_specs:line_continuation_in_strings&amp;do=export_raw" />
  <link rel="stylesheet" media="screen" type="text/css" href="lib/styles/style.css" />
  <meta name="robots" content="noindex,nofollow" />
  <script language="javascript" type="text/javascript" charset="utf-8">
    var alertText   = 'Please enter the text you want to format.\nIt will be appended to the end of the document.'
    var notSavedYet = 'Unsaved changes will be lost.\nReally continue?'
    var DOKU_BASE   = '/'
  </script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/script.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/tw-sack.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/ajax.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/domLib.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/domTT.js"></script>
  <link rel="stylesheet" type="text/css" href="lib/plugins/plugin/style.css" />
</head>
<body>
<div class="toc">
<div class="tocheader"> <script type="text/javascript">showTocToggle("+","-")</script>Table of Contents</div>
<div id="tocinside">
<ul class="toc">
<li class="level1"><span class="li"><a href="doku.php%3Fid=features_specs:line_continuation_in_strings&amp;do=export_html.html#line_continuations_in_string_and_regex_literals" class="toc">Line continuations in string and regex literals</a></span></li>
<li class="level1"><span class="li"><a href="doku.php%3Fid=features_specs:line_continuation_in_strings&amp;do=export_html.html#change_log" class="toc">Change log</a></span></li>
<li class="level1"><span class="li"><a href="doku.php%3Fid=features_specs:line_continuation_in_strings&amp;do=export_html.html#description" class="toc">Description</a></span></li>
<li class="level1"><span class="li"><a href="doku.php%3Fid=features_specs:line_continuation_in_strings&amp;do=export_html.html#notes_and_clarifications" class="toc">Notes and clarifications</a></span></li>
<li class="level1"><span class="li"><a href="doku.php%3Fid=features_specs:line_continuation_in_strings&amp;do=export_html.html#definitions" class="toc">Definitions</a></span></li>
<li class="level1"><span class="li"><a href="doku.php%3Fid=features_specs:line_continuation_in_strings&amp;do=export_html.html#references" class="toc">References</a></span></li>
</ul>
</div>
</div>

<a name="line_continuations_in_string_and_regex_literals"></a><h1>Line continuations in string and regex literals</h1>
<div class="level1">
<pre class="code">NAME:        &quot;Line continuation in string and regex literals&quot;
CATEGORY:    Lexical conventions (E262-3 ch 7)
SOURCES:     References [1], [2]
SPEC AUTHOR: Lars
STATUS:      Last call, 2008-03-08
REVIEWS:     es4-discuss; phone conference; tickets
IMPLEMENTED: RI (partial); Tamarin+ESC (partial)</pre>

</div>
<!-- SECTION [1-374] -->
<a name="change_log"></a><h1>Change log</h1>
<div class="level1">

<p>
 2008-03-13 / lth: added clarification about processing continuations as part of tokenizations, not as a prepass.
</p>

<p>
2008-03-06 / lth: based on [6], decide that this applies to regular expression literals too.  Changed the title of the proposal to reflect this.
</p>

<p>
2008-03-06 / lth: based on sentiment in the 04 March 2008 minutes, and on [6], I have decided that line continuations should be in effect in triple-quoted strings as well.  (May be revisited when/if the triple-quoted string proposal is updated.)
</p>

<p>
2008-03-06 / lth: based on resolutions in [4], BACKSLASH PS and BACKSLASH LS are necessarily handled like BACKSLASH LF.
</p>

</div>
<!-- SECTION [375-1028] -->
<a name="description"></a><h1>Description</h1>
<div class="level1">

<p>
 The character sequence BACKSLASH &lt;lineterminator&gt; (where &lt;lineterminator&gt; will be one of the characters LF, LS, or PS) is removed from string literals delimited by either single or triple SINGLEQUOTE or DOUBLEQUOTE characters.  (Triple-quoting is defined in [5].)
</p>

<p>
The character sequence BACKSLASH &lt;lineterminator&gt; is removed from regular expression literals.  See [6].
</p>

</div>
<!-- SECTION [1029-1426] -->
<a name="notes_and_clarifications"></a><h1>Notes and clarifications</h1>
<div class="level1">

<p>
 The (unstated) intent here is that the continuation processing is handled as part of the normal left-to-rigth tokenization of the input.  Input that contains eg 
</p>
<pre class="code">&quot;abc\\
tef&quot;</pre>

<p>
 is therefore illegal: it lexes as the four characters a, b, c, and \ followed by an unescaped newline, not the string &ldquo;abc&lt;tab&gt;ef&rdquo;.  This is in contrast with line terminator normalization, which is logically handled before tokenization.  (<acronym title="If I remember correctly">IIRC</acronym> it is also in contrast with C and C++ which process \&lt;newline&gt; before tokenization.)
</p>

<p>
It is assumed that line terminator normalization [4] is in effect, thus CR, LS, and PS do not appear in string and regular expression literals.
</p>

</div>
<!-- SECTION [1427-2121] -->
<a name="definitions"></a><h1>Definitions</h1>
<div class="level1">
<pre class="code">LF=U+000A
CR=U+000D
BACKSLASH=U+005C
LS=U+2028
PS=U+2029
SINGLEQUOTE=U+0027
DOUBLEQUOTE=U+0022</pre>

</div>
<!-- SECTION [2122-2259] -->
<a name="references"></a><h1>References</h1>
<div class="level1">

<p>
 [1] <a href="doku.php%3Fid=proposals:bug_fixes.html" class="urlextern" target="_blank" title="http://wiki.ecmascript.org/doku.php?id=proposals:bug_fixes" onclick="return svchk()" onkeypress="return svchk()" rel="nofollow">http://wiki.ecmascript.org/doku.php?id=proposals:bug_fixes</a>, item [BACKSLASH.NEWLINE.IN.STRING]
</p>

<p>
[2] <a href="doku.php%3Fid=proposals:line_terminator_normalization.html" class="urlextern" target="_blank" title="http://wiki.ecmascript.org/doku.php?id=proposals:line_terminator_normalization" onclick="return svchk()" onkeypress="return svchk()" rel="nofollow">http://wiki.ecmascript.org/doku.php?id=proposals:line_terminator_normalization</a>
</p>

<p>
[3] <a href="doku.php%3Fid=proposals:triple_quotes.html" class="urlextern" target="_blank" title="http://wiki.ecmascript.org/doku.php?id=proposals:triple_quotes" onclick="return svchk()" onkeypress="return svchk()" rel="nofollow">http://wiki.ecmascript.org/doku.php?id=proposals:triple_quotes</a>
</p>

<p>
[4] <a href="doku.php%3Fid=features_specs:line_terminator_normalization.html" class="wikilink1" title="features_specs:line_terminator_normalization" onclick="return svchk()" onkeypress="return svchk()">Line terminator normalization</a>
</p>

<p>
[5] <a href="doku.php%3Fid=features_specs:triply_quoted_string_literals.html" class="wikilink1" title="features_specs:triply_quoted_string_literals" onclick="return svchk()" onkeypress="return svchk()">Triply quoted string literals</a>
</p>

<p>
[6] <a href="http://bugs.ecmascript.org/ticket/363" class="urlextern" target="_blank" title="http://bugs.ecmascript.org/ticket/363" onclick="return svchk()" onkeypress="return svchk()" rel="nofollow">http://bugs.ecmascript.org/ticket/363</a>
</p>

</div>
<!-- SECTION [2260-] -->
<!-- cachefile /usr/local/www/es-lang.org/wiki/data/cache/8/88d34f03d3ca21bad5997b2e72799a0a.xhtml used -->
</body>
</html>
