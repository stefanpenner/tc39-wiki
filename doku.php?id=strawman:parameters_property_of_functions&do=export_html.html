<html>
<head>
  <meta name="generator" content="DokuWiki Release 2005-09-22e" />
  <link rel="start" href="index.html" />
  <link rel="contents" href="doku.php%3Fid=strawman:parameters_property_of_functions&amp;do=index.html" title="" />
  <link rel="alternate" type="application/rss+xml" title="Recent Changes" href="feed.php" />
  <link rel="alternate" type="application/rss+xml" title="Current Namespace" href="feed.php%3Fmode=list&amp;ns=strawman" />
  <link rel="alternate" type="text/html" title="Plain HTML" href="doku.php%3Fid=strawman:parameters_property_of_functions&amp;do=export_html.html" />
  <link rel="alternate" type="text/plain" title="Wiki Markup" href="doku.php%3Fid=strawman:parameters_property_of_functions&amp;do=export_raw" />
  <link rel="stylesheet" media="screen" type="text/css" href="lib/styles/style.css" />
  <meta name="robots" content="noindex,nofollow" />
  <script language="javascript" type="text/javascript" charset="utf-8">
    var alertText   = 'Please enter the text you want to format.\nIt will be appended to the end of the document.'
    var notSavedYet = 'Unsaved changes will be lost.\nReally continue?'
    var DOKU_BASE   = '/'
  </script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/script.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/tw-sack.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/ajax.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/domLib.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/domTT.js"></script>
  <link rel="stylesheet" type="text/css" href="lib/plugins/plugin/style.css" />
</head>
<body>

<a name="proposal"></a><h1>Proposal</h1>
<div class="level1">

<p>
 This is a companion to <a href="doku.php%3Fid=strawman:name_property_of_functions.html" class="wikilink1" title="strawman:name_property_of_functions" onclick="return svchk()" onkeypress="return svchk()">name property of functions</a>.
</p>

<p>
Function instances will have a non-writeable, non-configurable <code>parameters</code> property whose value is a frozen array of strings, the strings being the names of the function&rsquo;s parameters.
</p>

<p>
This further improves reflection, which can benefit the reliability of some callback and registration patterns.
</p>

<p>
 &mdash; <em><a href="mailto:%26%23x63%3B%26%23x72%3B%26%23x6f%3B%26%23x63%3B%26%23x6b%3B%26%23x40%3B%26%23x79%3B%26%23x61%3B%26%23x68%3B%26%23x6f%3B%26%23x6f%3B%26%23x2d%3B%26%23x69%3B%26%23x6e%3B%26%23x63%3B%26%23x2e%3B%26%23x63%3B%26%23x6f%3B%26%23x6d%3B" class="mail" title="&#x63;&#x72;&#x6f;&#x63;&#x6b;&#x40;&#x79;&#x61;&#x68;&#x6f;&#x6f;&#x2d;&#x69;&#x6e;&#x63;&#x2e;&#x63;&#x6f;&#x6d;">Douglas Crockford</a> 2010/12/15 19:28</em>
</p>

<p>
Could you expand on the use case of this.  Why does any code need to dynamically know the formal parameter names of functions.  Do we need to consider the impact of obfuscators or minimizers.  Will people write code that depends upon the parameter names in the original code?
</p>

<p>
In general, I would prefer that we move to mirror-based approach to function reflection rather than adding additional properties to Function.prototype: 
</p>
<pre class="code javascript"><span class="kw2">var</span> fm= <span class="kw2">new</span> FunctionInspector<span class="br0">&#40;</span>f<span class="br0">&#41;</span>;
<span class="kw1">if</span> <span class="br0">&#40;</span>fm<span class="br0">&#41;</span> <span class="br0">&#123;</span>
   ...<span class="me1">fm</span>.<span class="me1">parameterNames</span>...
   ...<span class="me1">fm</span>.<span class="me1">statements</span><span class="br0">&#91;</span>n<span class="br0">&#93;</span>...
   ...<span class="me1">fm</span>.<span class="me1">breakAt</span><span class="br0">&#40;</span>n<span class="br0">&#41;</span>...
   ...<span class="me1">fm</span>.<span class="me1">whatever</span>...
<span class="br0">&#125;</span></pre>
<p>
Of course, the mirror object could be provided in an implementation provided library or modules.
</p>

<p>
 &mdash; <em><a href="mailto:%26%23x41%3B%26%23x6c%3B%26%23x6c%3B%26%23x65%3B%26%23x6e%3B%26%23x40%3B%26%23x57%3B%26%23x69%3B%26%23x72%3B%26%23x66%3B%26%23x73%3B%26%23x2d%3B%26%23x42%3B%26%23x72%3B%26%23x6f%3B%26%23x63%3B%26%23x6b%3B%26%23x2e%3B%26%23x63%3B%26%23x6f%3B%26%23x6d%3B" class="mail" title="&#x41;&#x6c;&#x6c;&#x65;&#x6e;&#x40;&#x57;&#x69;&#x72;&#x66;&#x73;&#x2d;&#x42;&#x72;&#x6f;&#x63;&#x6b;&#x2e;&#x63;&#x6f;&#x6d;">Allen Wirfs-Brock</a> 2011/01/14 19:15</em>
</p>

<p>
There are callback patterns that could be made more robust by allowing for the checking of function signatures. I am not proposing adding anything to <code>Function.prototype</code>. These can be added to the function instances.
</p>

<p>
I don&rsquo;t want to give access to the guts of the functions. I just want to check their interfaces. So I don&rsquo;t need any of the other reflectivity.
</p>

<p>
 &mdash; <em><a href="mailto:%26%23x63%3B%26%23x72%3B%26%23x6f%3B%26%23x63%3B%26%23x6b%3B%26%23x40%3B%26%23x79%3B%26%23x61%3B%26%23x68%3B%26%23x6f%3B%26%23x6f%3B%26%23x2d%3B%26%23x69%3B%26%23x6e%3B%26%23x63%3B%26%23x2e%3B%26%23x63%3B%26%23x6f%3B%26%23x6d%3B" class="mail" title="&#x63;&#x72;&#x6f;&#x63;&#x6b;&#x40;&#x79;&#x61;&#x68;&#x6f;&#x6f;&#x2d;&#x69;&#x6e;&#x63;&#x2e;&#x63;&#x6f;&#x6d;">Douglas Crockford</a> 2011/01/19 17:23</em>
</p>

</div>

<!-- cachefile /usr/local/www/es-lang.org/wiki/data/cache/4/4f343339a98316b7b82fb7eb6eb2e70d.xhtml used -->
</body>
</html>
