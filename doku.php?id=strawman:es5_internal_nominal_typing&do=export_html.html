<html>
<head>
  <meta name="generator" content="DokuWiki Release 2005-09-22e" />
  <link rel="start" href="index.html" />
  <link rel="contents" href="doku.php%3Fid=strawman:es5_internal_nominal_typing&amp;do=index.html" title="" />
  <link rel="alternate" type="application/rss+xml" title="Recent Changes" href="feed.php" />
  <link rel="alternate" type="application/rss+xml" title="Current Namespace" href="feed.php%3Fmode=list&amp;ns=strawman" />
  <link rel="alternate" type="text/html" title="Plain HTML" href="doku.php%3Fid=strawman:es5_internal_nominal_typing&amp;do=export_html.html" />
  <link rel="alternate" type="text/plain" title="Wiki Markup" href="doku.php%3Fid=strawman:es5_internal_nominal_typing&amp;do=export_raw" />
  <link rel="stylesheet" media="screen" type="text/css" href="lib/styles/style.css" />
  <meta name="robots" content="noindex,nofollow" />
  <script language="javascript" type="text/javascript" charset="utf-8">
    var alertText   = 'Please enter the text you want to format.\nIt will be appended to the end of the document.'
    var notSavedYet = 'Unsaved changes will be lost.\nReally continue?'
    var DOKU_BASE   = '/'
  </script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/script.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/tw-sack.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/ajax.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/domLib.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/domTT.js"></script>
  <link rel="stylesheet" type="text/css" href="lib/plugins/plugin/style.css" />
</head>
<body>

<a name="cleanupgeneralize_es5_internal_nominal_object_typing"></a><h1>Cleanup/Generalize ES5 Internal Nominal Object Typing</h1>
<div class="level1">

<p>
 See <a href="https://docs.google.com/document/d/1sSUtri6joyOOh23nVDfMbs1wDS7iDMDUFVVeHeRdSIw/edit?hl=en&amp;authkey=CI-FopgC" class="urlextern" target="_blank" title="https://docs.google.com/document/d/1sSUtri6joyOOh23nVDfMbs1wDS7iDMDUFVVeHeRdSIw/edit?hl=en&amp;authkey=CI-FopgC" onclick="return svchk()" onkeypress="return svchk()" rel="nofollow"> Nominal Object Typing in ES5 Specification</a>
</p>

<p>
Specific things to do to cleanup/generalize spec. level use of nominal typing  
</p>
<ol>
<li class="level1"><div class="li"> Parameterized Objct.prototype.toString via actual object properties.</div>
</li>
<li class="level1"><div class="li"> Cleanup [[Class]] tests in JSON.stringify.  Perhaps revert to more toJSON usage</div>
</li>
<li class="level1"><div class="li"> Funtion.prototype.bind should simply look for the “length” property rather than first doing a [[Class]]==”Function” test</div>
</li>
<li class="level1"><div class="li"> Array.isArray should test for presence of special [[DefineOwnProperty]] rather than testing [[Class]</div>
</li>
<li class="level1"><div class="li"> Array.prototype.concat shouldn’t test its arguments for [[Class]]==”Array” to determine whether or not to “exploded” the argument into its individual elements.  Instead it should test a newly specified user settable property of the array to control the “explode” behavior.  There are backwards compatibility issues that will need to be considered.</div>
</li>
<li class="level1"><div class="li"> In JSON.parse eliminate [[Class]]==”Array” test in Walk. Replace it with more abstract language that relates back to the JSON grammar. </div>
</li>
<li class="level1"><div class="li"> In JSON.stringify, make accept generic arrays (hence any object) as replacer value.  This only needs isCallable test can eliminate [[Class]] test.</div>
</li>
<li class="level1"><div class="li"> In JSON.stringify, use a isJSONArray property to control output in array literal syntax and eliminate corresponding [[Class]] check.no</div>
</li>
<li class="level1"><div class="li"> Make String.prototype.match use RegExp constructor instead of [[Class]] test.  Also call object’s exec method instead of directly using built-in exec.  Add necessary coercions to expected value types.</div>
</li>
<li class="level1"><div class="li"> Do the same thing as item 9 for String prototype replace, search, and slice.</div>
</li>
<li class="level1"><div class="li"> <em>More items to come</em>...</div>
</li>
</ol>

</div>

<!-- cachefile /usr/local/www/es-lang.org/wiki/data/cache/4/436620568d2bc28dc0f95a90a11b2dd4.xhtml used -->
</body>
</html>
