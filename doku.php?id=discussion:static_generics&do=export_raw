This is the discussion page for [[proposals:static generics]]

====== Discussion ======

I used to see this as bloat but on reflection I'm in favor.

It's unclear to me if the "construct" has much use.  Could you elaborate?

 --- //[[lth@acm.org|Lars T Hansen]] 2006/12/08 11:16//

One example is [[http://bonsai.mozilla.org/cvsblame.cgi?file=mozilla/js/narcissus/jsexec.js&rev=1.25|Narcissus jsexec.js rev 1.25]], starting at line 909, to implement the ''new'' operator in a bootstrapped evaluator.

 --- //[[brendan@mozilla.org|Brendan Eich]] 2006/12/12 15:54//

The way I've been seeing this, "new X(...)" is simply "X.intrinsic::construct(...)", so you need a construct operation on classes, but you don't need "Function.construct(...)".

 --- //[[lth@acm.org|Lars T Hansen]] 2006/12/14 11:26//

So if we have ''X.intrinsic::construct'' and an ''args'' array, can we use ''X.intrinsic::construct.apply(null, args)'' to bootstrap an implementation of ''new'' in ES4? ''X'' would be ''Function'' in this case.

 --- //[[brendan@mozilla.org|Brendan Eich]] 2006/12/14 11:30//

Resolved at the Jan 2007 meeting in favor of generating a ''construct'' method on the class object which, when invoked, constructs an instance of the class.

 --- //[[lth@acm.org|Lars T Hansen]] 2007/01/25 09:37//