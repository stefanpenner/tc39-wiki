<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
 lang="en" dir="ltr">
<head>
  <title>strawman:obj_initialiser_methods [ES Wiki]</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <meta name="generator" content="DokuWiki Release 2005-09-22e" />
  <link rel="start" href="index.html" />
  <link rel="contents" href="doku.php%3Fid=strawman:obj_initialiser_methods&amp;do=index.html" title="" />
  <link rel="alternate" type="application/rss+xml" title="Recent Changes" href="feed.php" />
  <link rel="alternate" type="application/rss+xml" title="Current Namespace" href="feed.php%3Fmode=list&amp;ns=strawman" />
  <link rel="alternate" type="text/html" title="Plain HTML" href="doku.php%3Fid=strawman:obj_initialiser_methods&amp;do=export_html.html" />
  <link rel="alternate" type="text/plain" title="Wiki Markup" href="doku.php%3Fid=strawman:obj_initialiser_methods&amp;do=export_raw" />
  <link rel="stylesheet" media="screen" type="text/css" href="lib/styles/style.css" />
  <meta name="date" content="2011-03-22T15:39:22+0000" />
  <meta name="robots" content="index,follow" />
  <script language="javascript" type="text/javascript" charset="utf-8">
    var alertText   = 'Please enter the text you want to format.\nIt will be appended to the end of the document.'
    var notSavedYet = 'Unsaved changes will be lost.\nReally continue?'
    var DOKU_BASE   = '/'
  </script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/script.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/tw-sack.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/ajax.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/domLib.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/domTT.js"></script>
  <link rel="stylesheet" type="text/css" href="lib/plugins/plugin/style.css" />

  <link rel="shortcut icon" href="lib/images/favicon.ico" />
  <link rel="stylesheet" media="screen" type="text/css" href="lib/tpl/default/layout.css" />
  <link rel="stylesheet" media="screen" type="text/css" href="lib/tpl/default/design.css" />

  
  <link rel="stylesheet" media="print" type="text/css" href="lib/tpl/default/print.css" />

  <!--[if gte IE 5]>
  <style type="text/css">
    /* that IE 5+ conditional comment makes this only visible in IE 5+ */
    /* IE bugfix for transparent PNGs */
    //DISABLED   img { behavior: url("/lib/scripts/pngbehavior.htc"); }
  </style>
  <![endif]-->

  </head>

<body>
<div class="dokuwiki">
  
  <div class="stylehead">

    <div class="header">
      <div class="pagename">
        [[<a href="doku.php%3Fid=strawman:obj_initialiser_methods&amp;do=backlink.html" onclick="return svchk()" onkeypress="return svchk()">strawman:obj_initialiser_methods</a>]]
      </div>
      <div class="logo">
        <a href="doku.php%3Fid=.html" onclick="return svchk()" onkeypress="return svchk()" name="top" accesskey="h" title="[ALT+H]">ES Wiki</a>      </div>
    </div>
  
    
    <div class="bar" id="bar_top">
      <div class="bar-left" id="bar_topleft">
        <form class="button" method="post" action="index.html" onsubmit="return svchk()"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="" /><input type="hidden" name="id" value="strawman:obj_initialiser_methods" /><input type="submit" value="Show pagesource" class="button" title="ALT+V" accesskey="v" /></form>        <form class="button" method="get" action="index.html" onsubmit="return svchk()"><input type="hidden" name="do" value="revisions" /><input type="hidden" name="id" value="strawman:obj_initialiser_methods" /><input type="submit" value="Old revisions" class="button" title="ALT+O" accesskey="o" /></form>      </div>
  
      <div class="bar-right" id="bar_topright">
        <form class="button" method="get" action="index.html" onsubmit="return svchk()"><input type="hidden" name="do" value="recent" /><input type="hidden" name="id" value="" /><input type="submit" value="Recent changes" class="button" title="ALT+R" accesskey="r" /></form>        <form action="doku.php%3Fid=.html" accept-charset="utf-8" class="search" name="search" onsubmit="return svchk()"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch_in" accesskey="f" name="id" class="edit" onkeyup="ajax_qsearch.call('qsearch_in','qsearch_out')" /><input type="submit" value="Search" class="button" /><div id="qsearch_out" class="ajax_qsearch" onclick="this.style.display='none'"></div></form>&nbsp;
      </div>
    </div>

        <div class="breadcrumbs">
      Trace: <span class="bcsep">&raquo;</span> <a href="doku.php%3Fid=strawman:classes_with_trait_composition.html" onclick="return svchk()" onkeypress="return svchk()" class="breadcrumbs" title="strawman:classes_with_trait_composition">classes_with_trait_composition</a> <span class="bcsep">&raquo;</span> <a href="doku.php%3Fid=strawman:refactoring_put.html" onclick="return svchk()" onkeypress="return svchk()" class="breadcrumbs" title="strawman:refactoring_put">refactoring_put</a> <span class="bcsep">&raquo;</span> <a href="doku.php%3Fid=strawman:basic_object_literal_extensions.html" onclick="return svchk()" onkeypress="return svchk()" class="breadcrumbs" title="strawman:basic_object_literal_extensions">basic_object_literal_extensions</a> <span class="bcsep">&raquo;</span> <a href="doku.php%3Fid=strawman:concise_object_literal_extensions.html" onclick="return svchk()" onkeypress="return svchk()" class="breadcrumbs" title="strawman:concise_object_literal_extensions">concise_object_literal_extensions</a> <span class="bcsep">&raquo;</span> <span class="curid"><a href="doku.php%3Fid=strawman:obj_initialiser_methods.html" onclick="return svchk()" onkeypress="return svchk()" class="breadcrumbs" title="strawman:obj_initialiser_methods">obj_initialiser_methods</a></span>          </div>
    
  </div>
  
  
  <div class="page">
    <!-- wikipage start -->
    <div class="toc">
<div class="tocheader"> <script type="text/javascript">showTocToggle("+","-")</script>Table of Contents</div>
<div id="tocinside">
<ul class="toc">
<li class="level1"><span class="li"><a href="doku.php%3Fid=strawman:obj_initialiser_methods.html#method_properties_in_object_initialisers" class="toc">Method Properties in Object Initialisers</a></span><ul class="toc">
<li class="level2"><span class="li"><a href="doku.php%3Fid=strawman:obj_initialiser_methods.html#syntax" class="toc">Syntax</a></span></li>
<li class="level2"><span class="li"><a href="doku.php%3Fid=strawman:obj_initialiser_methods.html#rationaluse_cases" class="toc">Rational/Use Cases</a></span></li>
<li class="level2"><span class="li"><a href="doku.php%3Fid=strawman:obj_initialiser_methods.html#discussion" class="toc">Discussion</a></span><ul class="toc">
<li class="clear"><ul class="toc">
<li class="clear"><ul class="toc">
<li class="level5"><span class="li"><a href="doku.php%3Fid=strawman:obj_initialiser_methods.html#is_this_bound_for_methods" class="toc">Is this bound for methods?</a></span></li>
<li class="level5"><span class="li"><a href="doku.php%3Fid=strawman:obj_initialiser_methods.html#invoke_only_properties" class="toc">Invoke only Properties</a></span></li>
<li class="level5"><span class="li"><a href="doku.php%3Fid=strawman:obj_initialiser_methods.html#why_the_method_keyword" class="toc">Why the method keyword?</a></span></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<a name="method_properties_in_object_initialisers"></a><h1>Method Properties in Object Initialisers</h1>
<div class="level1">

<p>
<em>This is one of several related <a href="doku.php%3Fid=strawman:object_initialiser_extensions.html" class="wikilink1" title="strawman:object_initialiser_extensions" onclick="return svchk()" onkeypress="return svchk()">Object Initialiser Extensions</a>.</em> 
</p>

<p>
Using ES5 object literal syntax one can define properties whose values are functions and which serve as methods. However, properties defined in this manner are enumerable and making a property non-enumerable can only be done uses the Object reflection functions. Such function valued properties are typically intended to only be used as methods and to never be modified or deleted. However, ES5 has no declarative why to identify such a “method” property or to distinguish them from a property whose intended use is as a “data” property that happens to store function values. This distinction can be declaratively made by adding the “method” keyword to object literal syntax. For example: 
</p>
<pre class="code javascript"><span class="kw2">var</span> obj = <span class="br0">&#123;</span>
        method doSomething<span class="br0">&#40;</span>args<span class="br0">&#41;</span> <span class="br0">&#123;</span> <span class="kw1">return</span> doSomeWork<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#125;</span>,
        callback: <span class="kw2">function</span> <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span><span class="coMULTI">/*default handler*/</span><span class="br0">&#125;</span>,
        prop:  expr
<span class="br0">&#125;</span>;</pre>
<p>
 <code>method</code> creates a non-enumerable, non-writable, configurable data property of the object whose value is the function object created by the function expression that is obtained by replacing the keyword “method” with the keyword “function”. The function object is also frozen.
</p>

<p>
The above example is semantically equivalent to: 
</p>
<pre class="code javascript"><span class="kw2">var</span> obj = <span class="br0">&#123;</span>
        doSomething: Object.<span class="me1">freeze</span><span class="br0">&#40;</span>
             <span class="kw2">function</span> doSomething<span class="br0">&#40;</span>args<span class="br0">&#41;</span> <span class="br0">&#123;</span> <span class="kw1">return</span> doSomeWork<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#125;</span><span class="br0">&#41;</span>,
        callback: <span class="kw2">function</span> <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span><span class="coMULTI">/*default handler*/</span><span class="br0">&#125;</span>,
        prop:  expr
<span class="br0">&#125;</span>;
Object.<span class="me1">defineProperty</span><span class="br0">&#40;</span>obj,”doSomething”,
     <span class="br0">&#123;</span>writable: <span class="kw2">false</span>, enumerable: <span class="kw2">false</span>, configurable: <span class="kw2">true</span><span class="br0">&#125;</span><span class="br0">&#41;</span>;
Object.<span class="me1">freeze</span><span class="br0">&#40;</span>obj.<span class="me1">doSomething</span>.<span class="me1">prototype</span><span class="br0">&#41;</span>;</pre>
<p>
Change: &ldquo;method&rdquo; property keyword don&rsquo;t imply non-configurable &mdash; <em><a href="mailto:%26%23x41%3B%26%23x6c%3B%26%23x6c%3B%26%23x65%3B%26%23x6e%3B%26%23x40%3B%26%23x57%3B%26%23x69%3B%26%23x72%3B%26%23x66%3B%26%23x73%3B%26%23x2d%3B%26%23x42%3B%26%23x72%3B%26%23x6f%3B%26%23x63%3B%26%23x6b%3B%26%23x2e%3B%26%23x63%3B%26%23x6f%3B%26%23x6d%3B" class="mail" title="&#x41;&#x6c;&#x6c;&#x65;&#x6e;&#x40;&#x57;&#x69;&#x72;&#x66;&#x73;&#x2d;&#x42;&#x72;&#x6f;&#x63;&#x6b;&#x2e;&#x63;&#x6f;&#x6d;">Allen Wirfs-Brock</a> 2011/03/08 01:24</em>
</p>

</div>

<a name="syntax"></a><h2>Syntax</h2>
<div class="level2">

<p>
<em>ObjectLiteral</em> :<br/>
 <strong>{ }</strong><br/>
 <strong>{</strong> <em>PropertyNameAndValueList</em> <strong>}</strong><br/>
 <strong>{</strong> <em>PropertyNameAndValueList</em> <strong>, }</strong><br/>
 <br/>
 <em>PropertyNameAndValueList</em> :<br/>
 <em>PropertyAssignment</em><br/>
 <em>PropertyNameAndValueList</em> <strong>,</strong> <em>PropertyAssignment</em><br/>
 <br/>
 <em>PropertyAssignment</em> :<br/>
 <em>PropertyName</em> <strong>:</strong> <em>AssignmentExpression</em><br/>
 <strong>get</strong> <em>PropertyName</em> <strong>( ) {</strong> <em>FunctionBody</em> <strong>}</strong><br/>
 <strong>set</strong> <em>PropertyName</em> <strong>(</strong> <em>PropertySetParameterList</em> <strong>) {</strong> <em>FunctionBody</em> <strong>}</strong><br/>
 <strong>method</strong> <em>PropertyName</em> <strong>(</strong> <em>FormalParameterList<sub>opt</sub></em> <strong>) {</strong> <em>FunctionBody</em> <strong>}</strong><br/>

</p>

</div>

<a name="rationaluse_cases"></a><h2>Rational/Use Cases</h2>
<div class="level2">

<p>
ECMAScript does not have an explicit concept of “method” that is distinct from a data property whose value is a function closure. However, common practice is to consider most such function valued data properties as de facto methods that are not intended to be dynamically modified and which should not be enumerated. This convention is also used by ES5&rsquo;s built-in objects whose methods are all defined as being non-enumerable. The ECMAScript 5th Edition provides mechanisms for programmatically setting property attributes so “methods” are not enumerable and non-writable. However, this idiom cannot be concisely specified in the context of the superior object literal notation for creating objects. This extension provides object literal syntax for concisely defining such “method” properties. 
</p>

<p>
<del>
===== A More Radical Idea Alternative =====</del> <br/>
 Withdrawn  &mdash; <em><a href="mailto:%26%23x41%3B%26%23x6c%3B%26%23x6c%3B%26%23x65%3B%26%23x6e%3B%26%23x2e%3B%26%23x57%3B%26%23x69%3B%26%23x72%3B%26%23x66%3B%26%23x73%3B%26%23x2d%3B%26%23x42%3B%26%23x72%3B%26%23x6f%3B%26%23x63%3B%26%23x6b%3B%26%23x40%3B%26%23x6d%3B%26%23x69%3B%26%23x63%3B%26%23x72%3B%26%23x6f%3B%26%23x73%3B%26%23x6f%3B%26%23x66%3B%26%23x74%3B%26%23x2e%3B%26%23x63%3B%26%23x6f%3B%26%23x6d%3B" class="mail" title="&#x41;&#x6c;&#x6c;&#x65;&#x6e;&#x2e;&#x57;&#x69;&#x72;&#x66;&#x73;&#x2d;&#x42;&#x72;&#x6f;&#x63;&#x6b;&#x40;&#x6d;&#x69;&#x63;&#x72;&#x6f;&#x73;&#x6f;&#x66;&#x74;&#x2e;&#x63;&#x6f;&#x6d;">Allen Wirfs-Brock</a> 2010/09/08 04:38</em>
</p>

<p>
<del>There are arguably situations where it would be desirable to have “invoke only” properties. These would be method-like properties that could be called but whose function values could not be directly accessed or manipulated as naked function values. This is not possible without extending the ECMAScript object model to include a richer set of property attributes and associated semantics. If such an extension was made then the method keyword in object initialisers  probably should designate those semantics. 

Alternatively, methods could have &ldquo;bind on extraction&rdquo; behavior: If the method read as a property rather than invoked, what is read is not the naked function value itself. Rather the read returns that function as bound (as if by Function.prototype.bind()) to the base object of that property access as that bound function&rsquo;s &ldquo;this&rdquo;. Technically, this can still be expressed in ES5 as
</del>
</p>

<p>
<del>
&lt;code javascript&gt;
Object.defineProperty(obj,”doSomething”, {
      get: function(){return doSomething.bind(this);}, 
      set: undefined, 
      enumerable: false, 
      configurable: false
});
&lt;/code&gt;
</del>
</p>

<p>
<del>
Thus, the reflection <acronym title="Application Programming Interface">API</acronym> could still present the method as if it had been defined this way. Note that the above expansion, if naively implemented, would cause binding even on direct method invocation. Any realistic implementation of &ldquo;method&rdquo; must avoid this overhead.
</del>
</p>

</div>

<a name="discussion"></a><h2>Discussion</h2>
<div class="level2">

</div>

<a name="is_this_bound_for_methods"></a><h5>Is this bound for methods?</h5>
<div class="level5">

<p>
 <strong>From: Brendan Eich,Tuesday, August 11, 2009 4:14 PM</strong><br/>
 Is method meant to imply .bind()?
</p>

<p>
<strong>On Aug 11, 2009, at 4:38 PM, Allen Wirfs-Brock wrote:</strong> No bind for method.  If you use such an object as a prototype then an inheriting object would what this within such methods to bind to themselves rather than the source of the method on the prototype chain.
</p>
<hr noshade="noshade" size="1" />

</div>

<a name="invoke_only_properties"></a><h5>Invoke only Properties</h5>
<div class="level5">

<p>
<strong>On Aug 11, 2009, at 4:38 PM, Allen Wirfs-Brock wrote:</strong><br/>
 I also like the idea of “invoke only” properties (you can call them but not explicitly put or get them)
</p>

<p>
<strong>From: Brendan Eich,Tuesday, August 11, 2009 4:56 PM</strong><br/>
 E4X (ECMA-357) has these, they suck, frankly. Recent discussion occurred in <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=509705" class="urlextern" target="_blank" title="https://bugzilla.mozilla.org/show_bug.cgi?id=509705" onclick="return svchk()" onkeypress="return svchk()" rel="nofollow">https://bugzilla.mozilla.org/show_bug.cgi?id=509705</a>
</p>

<p>
People using <acronym title="JavaScript">JS</acronym> functionally want to use .apply, .call, funargs, etc. Invoke-only breaks these use-cases utterly.
</p>

<p>
I hope we don&rsquo;t make method mean anything like E4X&rsquo;s hidden <acronym title="Extensible Markup Language">XML</acronym>.prototype and XMLList.prototype methods.
</p>

</div>

<a name="why_the_method_keyword"></a><h5>Why the method keyword?</h5>
<div class="level5">

<p>
 It seems like we can skip the <code>method</code> keyword. We can detect a method with a single look ahead:
</p>
<pre class="code javascript"><span class="kw2">var</span> obj = <span class="br0">&#123;</span>
  doSomething<span class="br0">&#40;</span>args<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    ...
  <span class="br0">&#125;</span>
&nbsp;
<span class="kw2">var</span> obj = <span class="br0">&#123;</span>
  doSomething<span class="br0">&#40;</span>args<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="kw1">return</span> doSomeWork<span class="br0">&#40;</span><span class="br0">&#41;</span>;
  <span class="br0">&#125;</span>,
  callback: <span class="kw2">function</span> <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="co1">// Default handler</span>
  <span class="br0">&#125;</span>,
  prop: expr
<span class="br0">&#125;</span>;
&nbsp;</pre>
<p>
  &mdash; <em><a href="mailto:%26%23x61%3B%26%23x72%3B%26%23x76%3B%26%23x40%3B%26%23x67%3B%26%23x6f%3B%26%23x6f%3B%26%23x67%3B%26%23x6c%3B%26%23x65%3B%26%23x2e%3B%26%23x63%3B%26%23x6f%3B%26%23x6d%3B" class="mail" title="&#x61;&#x72;&#x76;&#x40;&#x67;&#x6f;&#x6f;&#x67;&#x6c;&#x65;&#x2e;&#x63;&#x6f;&#x6d;">Erik Arvidsson</a> 2011/03/15 22:10</em>
</p>

<p>
Totally agree with Brendan: just say no to call-only methods. It&rsquo;s a needless restriction, with very limited upside and all sorts of downside.
</p>

<p>
Also, I once again like where Arv is going with this &ndash; if we can avoid verbosity, that&rsquo;s better. And I can&rsquo;t tell you the number of times I&rsquo;ve actually accidentally written:
</p>
<pre class="code javascript"><span class="kw2">var</span> obj = <span class="br0">&#123;</span>
    foo: <span class="nu0">1</span>,
    bar: <span class="st0">"hello"</span>,
    baz<span class="br0">&#40;</span>x, y, z<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre>
<p>
without realizing it. My brain just <em>wants</em> this syntax to exist. :)
</p>

<p>
 &mdash; <em><a href="mailto:%26%23x64%3B%26%23x68%3B%26%23x65%3B%26%23x72%3B%26%23x6d%3B%26%23x61%3B%26%23x6e%3B%26%23x40%3B%26%23x63%3B%26%23x63%3B%26%23x73%3B%26%23x2e%3B%26%23x6e%3B%26%23x65%3B%26%23x75%3B%26%23x2e%3B%26%23x65%3B%26%23x64%3B%26%23x75%3B" class="mail" title="&#x64;&#x68;&#x65;&#x72;&#x6d;&#x61;&#x6e;&#x40;&#x63;&#x63;&#x73;&#x2e;&#x6e;&#x65;&#x75;&#x2e;&#x65;&#x64;&#x75;">Dave Herman</a> 2011/03/15 22:36</em>
</p>

<p>
We can certainly avoid <code>method</code> contextual keywords, but it would seem the result would be a non-sharp function. Then we could allow
</p>
<pre class="code javascript"><span class="kw2">var</span> obj = <span class="br0">&#123;</span>
    #baz<span class="br0">&#40;</span>x, y, z<span class="br0">&#41;</span> <span class="br0">&#123;</span> ... <span class="br0">&#125;</span>
<span class="br0">&#125;</span>;</pre>
<p>
and so on (the variant with explicit <code>this</code> parameterization, vs. this one with lexically scoped <code>this</code>).
</p>

<p>
Then no lookahead is required. But lookahead is not a problem given the need to check for <code>:</code> after a property name.
</p>

<p>
Some may object to sharp functions requiring an extra character compared to non-sharp functions. I personally would be happy with only sharp-method syntax, and anyone wanting bad old non-sharp functions has to write it out as today, using <code>baz: function (...) {...}</code>!
</p>

<p>
 &mdash; <em><a href="mailto:%26%23x62%3B%26%23x72%3B%26%23x65%3B%26%23x6e%3B%26%23x64%3B%26%23x61%3B%26%23x6e%3B%26%23x40%3B%26%23x6d%3B%26%23x6f%3B%26%23x7a%3B%26%23x69%3B%26%23x6c%3B%26%23x6c%3B%26%23x61%3B%26%23x2e%3B%26%23x6f%3B%26%23x72%3B%26%23x67%3B" class="mail" title="&#x62;&#x72;&#x65;&#x6e;&#x64;&#x61;&#x6e;&#x40;&#x6d;&#x6f;&#x7a;&#x69;&#x6c;&#x6c;&#x61;&#x2e;&#x6f;&#x72;&#x67;">Brendan Eich</a> 2011/03/16 20:34</em>
</p>

<p>
The problem I see with keywordless methods is that the legacy is that keywordless properties (I&rsquo;m not counting get/set as this sort of keyword) have default attributes so for legacy consistancy I would expect foo, bar, and baz: 
</p>
<pre class="code javascript"><span class="kw2">var</span> obj = <span class="br0">&#123;</span>
    foo: <span class="nu0">1</span>,
    get <span class="br0">&#40;</span><span class="br0">&#41;</span> bar<span class="br0">&#123;</span> <span class="kw1">return</span> <span class="st0">"hello"</span><span class="br0">&#125;</span>,
    baz<span class="br0">&#40;</span>x, y, z<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre>
<p>
 to all have attributes {configurable: true, enumerable: true, writable: true} (exclude the writable for bar). There is nothing forcing this treatment of baz-like properties, but the legacy consistency seems like a good idea to me. If you buy that logic then the way you make all these properties non-enumerable is  to put a &ldquo;var&rdquo; in front of them: 
</p>
<pre class="code javascript"><span class="kw2">var</span> obj = <span class="br0">&#123;</span>
    <span class="kw2">var</span> foo: <span class="nu0">1</span>,
    <span class="kw2">var</span> get <span class="br0">&#40;</span><span class="br0">&#41;</span> bar<span class="br0">&#123;</span> <span class="kw1">return</span> <span class="st0">"hello"</span><span class="br0">&#125;</span>,
    <span class="kw2">var</span> baz<span class="br0">&#40;</span>x, y, z<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre>
<p>
 That&rsquo;s basically what I did except I really don&rsquo;t like labeling methods with &ldquo;var&rdquo;so I essentially used &ldquo;method&rdquo; as an alias for &ldquo;var.
</p>

<p>
However, once a different keyword is used additional semantics can apply to it. &ldquo;method&rdquo;  means more than just enumerable: false. It also sets writable: false and and freezes the function.  (see <a href="doku.php%3Fid=strawman:obj_initialiser_const.html" class="wikilink1" title="strawman:obj_initialiser_const" onclick="return svchk()" onkeypress="return svchk()">Other Object Initialiser Property Attribute Modifiers</a> for the complete definition of all the property modifiers.)
</p>

<p>
I wouldn&rsquo;t be opposed simply replacing method with #-functions even though it isn&rsquo;t that different from the baz(){} case.
</p>

<p>
I do caution about going overboard in minimizing keystrokes.  The typical line of code is read many more times than it is edited so readability is really important.  I actually considered use three prefix special characters to represent negated attributes (eg, ~=writable:false, \=enumerable false, %=configurable:false) so you could write things like: 
</p>
<pre class="code javascript"><span class="kw2">var</span> obj = <span class="br0">&#123;</span>
    \%foo: <span class="nu0">1</span>,
    ~get <span class="br0">&#40;</span><span class="br0">&#41;</span> bar<span class="br0">&#123;</span> <span class="kw1">return</span> <span class="st0">"hello"</span><span class="br0">&#125;</span>,
    ~\%baz<span class="br0">&#40;</span>x, y, z<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre>
<p>
  But I found I couldn&rsquo;t remember what they meant for either reading or writing.
</p>

<p>
 &mdash; <em><a href="mailto:%26%23x41%3B%26%23x6c%3B%26%23x6c%3B%26%23x65%3B%26%23x6e%3B%26%23x40%3B%26%23x57%3B%26%23x69%3B%26%23x72%3B%26%23x66%3B%26%23x73%3B%26%23x2d%3B%26%23x42%3B%26%23x72%3B%26%23x6f%3B%26%23x63%3B%26%23x6b%3B%26%23x2e%3B%26%23x63%3B%26%23x6f%3B%26%23x6d%3B" class="mail" title="&#x41;&#x6c;&#x6c;&#x65;&#x6e;&#x40;&#x57;&#x69;&#x72;&#x66;&#x73;&#x2d;&#x42;&#x72;&#x6f;&#x63;&#x6b;&#x2e;&#x63;&#x6f;&#x6d;">Allen Wirfs-Brock</a> 2011/03/16 23:32</em>
</p>

<p>
Another issue with dropping the method modifier is that it conflicts with the use of <strong><code>new</code></strong> as a keyword that introduces the constructor body in <a href="doku.php%3Fid=strawman:obj_initialiser_class_abstraction.html" class="wikilink1" title="strawman:obj_initialiser_class_abstraction" onclick="return svchk()" onkeypress="return svchk()">obj initialiser class abstraction</a>. 
</p>
<pre class="code javascript"><span class="kw2">class</span> Foo <span class="br0">&#123;</span>
  method <span class="kw2">new</span> <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span><span class="br0">&#125;</span>,  <span class="co1">//this defines a prototype method named &quot;new&quot;</span>
  <span class="kw2">new</span> <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>           <span class="co1">//this provides the body for the Foo constructor</span>
  <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre>
<p>
  &mdash; <em><a href="mailto:%26%23x41%3B%26%23x6c%3B%26%23x6c%3B%26%23x65%3B%26%23x6e%3B%26%23x40%3B%26%23x57%3B%26%23x69%3B%26%23x72%3B%26%23x66%3B%26%23x73%3B%26%23x2d%3B%26%23x42%3B%26%23x72%3B%26%23x6f%3B%26%23x63%3B%26%23x6b%3B%26%23x2e%3B%26%23x63%3B%26%23x6f%3B%26%23x6d%3B" class="mail" title="&#x41;&#x6c;&#x6c;&#x65;&#x6e;&#x40;&#x57;&#x69;&#x72;&#x66;&#x73;&#x2d;&#x42;&#x72;&#x6f;&#x63;&#x6b;&#x2e;&#x63;&#x6f;&#x6d;">Allen Wirfs-Brock</a> 2011/03/19 18:47</em>
</p>

<p>
Another option is to use <code>constructor</code> instead of <code>new</code>.
</p>
<pre class="code javascript"><span class="kw2">class</span> Rect <span class="br0">&#123;</span>
  size<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span><span class="br0">&#125;</span>,  <span class="co1">// This defines a prototype method named &quot;size&quot;</span>
  constructor<span class="br0">&#40;</span>w, h<span class="br0">&#41;</span> <span class="br0">&#123;</span>  <span class="co1">//This provides the body for the Rect constructor</span>
  <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre>
<p>
One good side effect of renaming <code>new</code> to <code>constructor</code> is that<code>constructor</code> is already supposed to point at the constructor function which is already present on the prototype.
</p>

<p>
 &mdash; <em><a href="mailto:%26%23x61%3B%26%23x72%3B%26%23x76%3B%26%23x40%3B%26%23x67%3B%26%23x6f%3B%26%23x6f%3B%26%23x67%3B%26%23x6c%3B%26%23x65%3B%26%23x2e%3B%26%23x63%3B%26%23x6f%3B%26%23x6d%3B" class="mail" title="&#x61;&#x72;&#x76;&#x40;&#x67;&#x6f;&#x6f;&#x67;&#x6c;&#x65;&#x2e;&#x63;&#x6f;&#x6d;">Erik Arvidsson</a> 2011/03/21 18:27</em>
</p>

<p>
Erik, you would still have the name problem.  Is:
</p>
<pre class="code">constructor () {}</pre>

<p>
the name of an instance method named &ldquo;constructor&rdquo; or is the declaration of the initialization code for new instances. It is the key word (whatever it happens to be) that precedes the property name in method declarations that allow the two to be distinguished 
</p>

<p>
&mdash; <em><a href="mailto:%26%23x41%3B%26%23x6c%3B%26%23x6c%3B%26%23x65%3B%26%23x6e%3B%26%23x40%3B%26%23x57%3B%26%23x69%3B%26%23x72%3B%26%23x66%3B%26%23x73%3B%26%23x2d%3B%26%23x42%3B%26%23x72%3B%26%23x6f%3B%26%23x63%3B%26%23x6b%3B%26%23x2e%3B%26%23x63%3B%26%23x6f%3B%26%23x6d%3B" class="mail" title="&#x41;&#x6c;&#x6c;&#x65;&#x6e;&#x40;&#x57;&#x69;&#x72;&#x66;&#x73;&#x2d;&#x42;&#x72;&#x6f;&#x63;&#x6b;&#x2e;&#x63;&#x6f;&#x6d;">Allen Wirfs-Brock</a> 2011/03/22 15:34</em> without reserving &ldquo;constructor&rdquo; (or &ldquo;new&rdquo;) from being used as a method name.
</p>

</div>

<!-- no cachefile used, but created -->
    <!-- wikipage stop -->
  </div>

  <div class="clearer">&nbsp;</div>

  
  <div class="stylefoot">

    <div class="meta">
      <div class="user">
              </div>
      <div class="doc">
        strawman/obj_initialiser_methods.txt &middot; Last modified: 2011/03/22 15:39 by allen      </div>
    </div>

   
    <div class="bar" id="bar_bottom">
      <div class="bar-left" id="bar_bottomleft">
        <form class="button" method="post" action="index.html" onsubmit="return svchk()"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="" /><input type="hidden" name="id" value="strawman:obj_initialiser_methods" /><input type="submit" value="Show pagesource" class="button" title="ALT+V" accesskey="v" /></form>        <form class="button" method="get" action="index.html" onsubmit="return svchk()"><input type="hidden" name="do" value="revisions" /><input type="hidden" name="id" value="strawman:obj_initialiser_methods" /><input type="submit" value="Old revisions" class="button" title="ALT+O" accesskey="o" /></form>      </div>
      <div class="bar-right" id="bar_bottomright">
                        <form class="button" method="get" action="index.html" onsubmit="return svchk()"><input type="hidden" name="do" value="login" /><input type="hidden" name="id" value="strawman:obj_initialiser_methods" /><input type="submit" value="Login" class="button" /></form>        <form class="button" method="get" action="index.html" onsubmit="return svchk()"><input type="hidden" name="do" value="index" /><input type="hidden" name="id" value="strawman:obj_initialiser_methods" /><input type="submit" value="Index" class="button" title="ALT+X" accesskey="x" /></form>        <a href="doku.php%3Fid=strawman:obj_initialiser_methods.html#top"><input type="button" class="button" value="Back to top" onclick="window.scrollTo(0, 0)" /></a>&nbsp;
      </div>
    </div>

  </div>

</div>

<div align="center" class="footerinc">
  <a target="_blank" href="feed.php" title="Recent changes RSS feed"><img src="lib/tpl/default/images/button-rss.png" width="80" height="15" alt="Recent changes RSS feed" border="0" /></a>

  <a target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/2.0/" rel="license" title="Creative Commons License"><img src="lib/tpl/default/images/button-cc.gif" width="80" height="15" alt="Creative Commons License" border="0" /></a>

  <a target="_blank" href="https://www.paypal.com/xclick/business=andi%40splitbrain.org&amp;item_name=DokuWiki+Donation&amp;no_shipping=1&amp;no_note=1&amp;tax=0&amp;currency_code=EUR&amp;lc=US" title="Donate"><img src="lib/tpl/default/images/button-donate.gif" alt="Donate" border="0" /></a>

  <a target="_blank" href="http://www.php.net" title="Powered by PHP"><img src="lib/tpl/default/images/button-php.gif" width="80" height="15" alt="Powered by PHP" border="0" /></a>

  <a target="_blank" href="http://validator.w3.org/check/referer" title="Valid XHTML 1.0"><img src="lib/tpl/default/images/button-xhtml.png" width="80" height="15" alt="Valid XHTML 1.0" border="0" /></a>

  <a target="_blank" href="http://jigsaw.w3.org/css-validator/check/referer" title="Valid CSS"><img src="lib/tpl/default/images/button-css.png" width="80" height="15" alt="Valid CSS" border="0" /></a>

  <a target="_blank" href="http://wiki.splitbrain.org/wiki:dokuwiki" title="Driven by DokuWiki"><img src="lib/tpl/default/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" border="0" /></a>



<!--

<rdf:RDF xmlns="http://web.resource.org/cc/"
    xmlns:dc="http://purl.org/dc/elements/1.1/"
    xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
<Work rdf:about="">
   <dc:type rdf:resource="http://purl.org/dc/dcmitype/Text" />
   <license rdf:resource="http://creativecommons.org/licenses/by-nc-sa/2.0/" />
</Work>

<License rdf:about="http://creativecommons.org/licenses/by-nc-sa/2.0/">
   <permits rdf:resource="http://web.resource.org/cc/Reproduction" />
   <permits rdf:resource="http://web.resource.org/cc/Distribution" />
   <requires rdf:resource="http://web.resource.org/cc/Notice" />
   <requires rdf:resource="http://web.resource.org/cc/Attribution" />
   <prohibits rdf:resource="http://web.resource.org/cc/CommercialUse" />
   <permits rdf:resource="http://web.resource.org/cc/DerivativeWorks" />
   <requires rdf:resource="http://web.resource.org/cc/ShareAlike" />
</License>

</rdf:RDF>

-->
</div>

<img src="lib/exe/indexer.php%3Fid=strawman%253Aobj_initialiser_methods&amp;1454277396" width="1" height="1" alt=""  /></body>
</html>
