<html>
<head>
  <meta name="generator" content="DokuWiki Release 2005-09-22e" />
  <link rel="start" href="index.html" />
  <link rel="contents" href="doku.php%3Fid=harmony:generators&amp;do=index.html" title="" />
  <link rel="alternate" type="application/rss+xml" title="Recent Changes" href="feed.php" />
  <link rel="alternate" type="application/rss+xml" title="Current Namespace" href="http://wiki.ecmascript.org/feed.php?mode=list&amp;ns=harmony" />
  <link rel="alternate" type="text/html" title="Plain HTML" href="doku.php%3Fid=harmony:generators&amp;do=export_html.html" />
  <link rel="alternate" type="text/plain" title="Wiki Markup" href="doku.php%3Fid=harmony:generators&amp;do=export_raw" />
  <link rel="stylesheet" media="screen" type="text/css" href="lib/styles/style.css" />
  <meta name="robots" content="noindex,nofollow" />
  <script language="javascript" type="text/javascript" charset="utf-8">
    var alertText   = 'Please enter the text you want to format.\nIt will be appended to the end of the document.'
    var notSavedYet = 'Unsaved changes will be lost.\nReally continue?'
    var DOKU_BASE   = '/'
  </script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/script.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/tw-sack.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/ajax.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/domLib.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/domTT.js"></script>
  <link rel="stylesheet" type="text/css" href="lib/plugins/plugin/style.css" />
</head>
<body>
<div class="toc">
<div class="tocheader"> <script type="text/javascript">showTocToggle("+","-")</script>Table of Contents</div>
<div id="tocinside">
<ul class="toc">
<li class="level1"><span class="li"><a href="doku.php%3Fid=harmony:generators&amp;do=export_html.html#overview" class="toc">Overview</a></span></li>
<li class="level1"><span class="li"><a href="doku.php%3Fid=harmony:generators&amp;do=export_html.html#examples" class="toc">Examples</a></span></li>
<li class="level1"><span class="li"><a href="doku.php%3Fid=harmony:generators&amp;do=export_html.html#api" class="toc">API</a></span><ul class="toc">
<li class="level2"><span class="li"><a href="doku.php%3Fid=harmony:generators&amp;do=export_html.html#generator_objects" class="toc">Generator objects</a></span></li>
</ul>
</li>
<li class="level1"><span class="li"><a href="doku.php%3Fid=harmony:generators&amp;do=export_html.html#syntax" class="toc">Syntax</a></span></li>
<li class="level1"><span class="li"><a href="doku.php%3Fid=harmony:generators&amp;do=export_html.html#generator_functions" class="toc">Generator functions</a></span><ul class="toc">
<li class="level2"><span class="li"><a href="doku.php%3Fid=harmony:generators&amp;do=export_html.html#calling" class="toc">Calling</a></span></li>
<li class="level2"><span class="li"><a href="doku.php%3Fid=harmony:generators&amp;do=export_html.html#yielding" class="toc">Yielding</a></span></li>
<li class="level2"><span class="li"><a href="doku.php%3Fid=harmony:generators&amp;do=export_html.html#delegating_yield" class="toc">Delegating yield</a></span></li>
<li class="level2"><span class="li"><a href="doku.php%3Fid=harmony:generators&amp;do=export_html.html#returning" class="toc">Returning</a></span></li>
</ul>
</li>
<li class="level1"><span class="li"><a href="doku.php%3Fid=harmony:generators&amp;do=export_html.html#generator_methods" class="toc">Generator methods</a></span><ul class="toc">
<li class="level2"><span class="li"><a href="doku.php%3Fid=harmony:generators&amp;do=export_html.html#methodnext" class="toc">Method: next</a></span></li>
<li class="level2"><span class="li"><a href="doku.php%3Fid=harmony:generators&amp;do=export_html.html#methodsend" class="toc">Method: send</a></span></li>
<li class="level2"><span class="li"><a href="doku.php%3Fid=harmony:generators&amp;do=export_html.html#methodthrow" class="toc">Method: throw</a></span></li>
<li class="level2"><span class="li"><a href="doku.php%3Fid=harmony:generators&amp;do=export_html.html#methodclose" class="toc">Method: close</a></span></li>
<li class="level2"><span class="li"><a href="doku.php%3Fid=harmony:generators&amp;do=export_html.html#methoditerate" class="toc">Method: iterate</a></span></li>
</ul>
</li>
<li class="level1"><span class="li"><a href="doku.php%3Fid=harmony:generators&amp;do=export_html.html#generator_objects" class="toc">Generator objects</a></span><ul class="toc">
<li class="level2"><span class="li"><a href="doku.php%3Fid=harmony:generators&amp;do=export_html.html#states" class="toc">States</a></span></li>
<li class="level2"><span class="li"><a href="doku.php%3Fid=harmony:generators&amp;do=export_html.html#internal_methodsend" class="toc">Internal method: send</a></span></li>
<li class="level2"><span class="li"><a href="doku.php%3Fid=harmony:generators&amp;do=export_html.html#internal_methodthrow" class="toc">Internal method: throw</a></span></li>
<li class="level2"><span class="li"><a href="doku.php%3Fid=harmony:generators&amp;do=export_html.html#internal_methodclose" class="toc">Internal method: close</a></span></li>
<li class="level2"><span class="li"><a href="doku.php%3Fid=harmony:generators&amp;do=export_html.html#resuming_generators" class="toc">Resuming generators</a></span></li>
</ul>
</li>
<li class="level1"><span class="li"><a href="doku.php%3Fid=harmony:generators&amp;do=export_html.html#references" class="toc">References</a></span></li>
<li class="level1"><span class="li"><a href="doku.php%3Fid=harmony:generators&amp;do=export_html.html#generator_object_model_diagram" class="toc">Generator Object Model Diagram</a></span></li>
</ul>
</div>
</div>

<a name="overview"></a><h1>Overview</h1>
<div class="level1">

<p>
 <strong>This proposal has progressed to the Draft ECMAScript 6 Specification, which is available for review here: <a href="doku.php%3Fid=harmony:specification_drafts.html" class="wikilink1" title="harmony:specification_drafts" onclick="return svchk()" onkeypress="return svchk()">specification_drafts</a>. Any new issues relating to them should be filed as bugs at <a href="http://bugs.ecmascript.org" class="urlextern" target="_blank" title="http://bugs.ecmascript.org" onclick="return svchk()" onkeypress="return svchk()" rel="nofollow">http://bugs.ecmascript.org</a>. The content on this page is for historic record only and may no longer reflect the current state of the feature described within.</strong>
</p>

<p>
 First-class coroutines, represented as objects encapsulating suspended execution contexts (i.e., function activations). Prior art: Python, Icon, Lua, Scheme, Smalltalk.
</p>

</div>
<!-- SECTION [1-563] -->
<a name="examples"></a><h1>Examples</h1>
<div class="level1">

<p>
 The &ldquo;infinite&rdquo; sequence of Fibonacci numbers (notwithstanding behavior around 2<sup>53</sup>):
</p>
<pre class="code javascript"><span class="kw2">function</span>* fibonacci<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    let <span class="br0">&#91;</span>prev, curr<span class="br0">&#93;</span> = <span class="br0">&#91;</span><span class="nu0">0</span>, <span class="nu0">1</span><span class="br0">&#93;</span>;
    <span class="kw1">for</span> <span class="br0">&#40;</span>;;<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="br0">&#91;</span>prev, curr<span class="br0">&#93;</span> = <span class="br0">&#91;</span>curr, prev + curr<span class="br0">&#93;</span>;
        yield curr;
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre>
<p>
Generators can be iterated over in loops:
</p>
<pre class="code javascript"><span class="kw1">for</span> <span class="br0">&#40;</span>n of fibonacci<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="co1">// truncate the sequence at 1000</span>
    <span class="kw1">if</span> <span class="br0">&#40;</span>n &gt; <span class="nu0">1000</span><span class="br0">&#41;</span>
        <span class="kw1">break</span>;
    <span class="kw3">print</span><span class="br0">&#40;</span>n<span class="br0">&#41;</span>;
<span class="br0">&#125;</span></pre>
<p>
Generators are iterators:
</p>
<pre class="code javascript">let seq = fibonacci<span class="br0">&#40;</span><span class="br0">&#41;</span>;
<span class="kw3">print</span><span class="br0">&#40;</span>seq.<span class="me1">next</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>; <span class="co1">// 1</span>
<span class="kw3">print</span><span class="br0">&#40;</span>seq.<span class="me1">next</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>; <span class="co1">// 2</span>
<span class="kw3">print</span><span class="br0">&#40;</span>seq.<span class="me1">next</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>; <span class="co1">// 3</span>
<span class="kw3">print</span><span class="br0">&#40;</span>seq.<span class="me1">next</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>; <span class="co1">// 5</span>
<span class="kw3">print</span><span class="br0">&#40;</span>seq.<span class="me1">next</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>; <span class="co1">// 8</span></pre>
</div>
<!-- SECTION [564-1231] -->
<a name="api"></a><h1>API</h1>
<div class="level1">

<p>
 See the <code>&ldquo;@iter&rdquo;</code> module in <a href="doku.php%3Fid=harmony:iterators.html" class="wikilink1" title="harmony:iterators" onclick="return svchk()" onkeypress="return svchk()">iterators</a>.
</p>

</div>
<!-- SECTION [1232-1296] -->
<a name="generator_objects"></a><h2>Generator objects</h2>
<div class="level2">

<p>
 Every generator object has the following internal properties: 
</p>
<ul>
<li class="level1"><div class="li"> [[Prototype]] : the original value of <code>Object.prototype</code></div>
</li>
<li class="level1"><div class="li"> [[Code]] : the code for the generator function body</div>
</li>
<li class="level1"><div class="li"> [[ExecutionContext]] : either <strong>null</strong> or an execution context</div>
</li>
<li class="level1"><div class="li"> [[Scope]] : the scope chain for the suspended execution context</div>
</li>
<li class="level1"><div class="li"> [[Handler]] : a standard generator handler for performing iteration</div>
</li>
<li class="level1"><div class="li"> [[State]] : &ldquo;newborn&rdquo;, &ldquo;executing&rdquo;, &ldquo;suspended&rdquo;, or &ldquo;closed&rdquo;</div>
</li>
<li class="level1"><div class="li"> [[Send]] : see semantics below</div>
</li>
<li class="level1"><div class="li"> [[Throw]] : see semantics below</div>
</li>
<li class="level1"><div class="li"> [[Close]] : see semantics below</div>
</li>
</ul>

<p>
 There are four function objects, <strong>send</strong>, <strong>next</strong>, <strong>throw</strong>, and <strong>close</strong>. Every generator object has four properties, <code>send</code>, <code>next</code>, <code>throw</code>, and <code>close</code>, all respectively pointing to their corresponding function value. The functions&rsquo; behavior is specified below.
</p>

</div>
<!-- SECTION [1297-2241] -->
<a name="syntax"></a><h1>Syntax</h1>
<div class="level1">

<p>
 The function syntax is extended to add an optional <code>*</code> token:
</p>
<pre class="code javascript">FunctionDeclaration:
    <span class="st0">"function"</span> <span class="st0">"*"</span>? Identifier <span class="st0">"("</span> FormalParameterList? <span class="st0">")"</span> <span class="st0">"{"</span> FunctionBody <span class="st0">"}"</span>
&nbsp;
FunctionExpression:
    <span class="st0">"function"</span> <span class="st0">"*"</span>? Identifier? <span class="st0">"("</span> FormalParameterList? <span class="st0">")"</span> <span class="st0">"{"</span> FunctionBody <span class="st0">"}"</span></pre>
<p>
A function with a <code>*</code> token is known as a <em>generator function</em>. The following two unary operators are only allowed in the immediate body of a generator function (i.e., in the body but not nested inside another function):
</p>
<pre class="code javascript">AssignmentExpression:
    ...
    <span class="me1">YieldExpression</span>
&nbsp;
YieldExpression:
    <span class="st0">"yield"</span> <span class="br0">&#40;</span><span class="st0">"*"</span>? AssignmentExpression<span class="br0">&#41;</span>?
&nbsp;</pre>
<p>
An early error is raised if a <code>yield</code> or <code>yield*</code> expression occurs in a non-generator function.
</p>

</div>
<!-- SECTION [2242-3026] -->
<a name="generator_functions"></a><h1>Generator functions</h1>
<div class="level1">

<p>
 This section describes the semantics of generator functions.
</p>

</div>
<!-- SECTION [3027-3123] -->
<a name="calling"></a><h2>Calling</h2>
<div class="level2">

<p>
 Let <code>f</code> be a generator function. The semantics of a function call <code>f(x1, ..., xn)</code> is:
</p>

<p>
    Let E = a new VariableEnvironment record with mappings for <code>x1</code> ... <code>xn</code> <br/>
     Let S = the current scope chain extended with E <br/>
     Let V = a new generator object with <br/>
         [[Scope]] = S <br/>
         [[Code]] = f.[[Code]] <br/>
         [[ExecutionContext]] = <strong>null</strong> <br/>
         [[State]] = &ldquo;newborn&rdquo; <br/>
         [[Handler]] = the standard generator handler <br/>
     Return V
</p>

</div>
<!-- SECTION [3124-3782] -->
<a name="yielding"></a><h2>Yielding</h2>
<div class="level2">

<p>
 The semantics of evaluating an expression of the form <code>yield e</code> is:
</p>

<p>
    Let V ?= Evaluate(e) <br/>
     Let K = the current execution context <br/>
     Let O = K.currentGenerator <br/>
     O.[[ExecutionContext]] := K <br/>
     O.[[State]] := &ldquo;suspended&rdquo; <br/>
     Pop the current execution context <br/>
     Return (<strong>normal</strong>, V, <strong>null</strong>)
</p>

</div>
<!-- SECTION [3783-4205] -->
<a name="delegating_yield"></a><h2>Delegating yield</h2>
<div class="level2">

<p>
 The <code>yield*</code> operator delegates to another generator. This provides a convenient mechanism for composing generators.
</p>

<p>
The expression <code>yield* &lt;&lt;expr&gt;&gt;</code> is equivalent to:
</p>
<pre class="code javascript">let <span class="br0">&#40;</span>g = &lt;&lt;expr&gt;&gt;<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    let received = <span class="kw1">void</span> <span class="nu0">0</span>, send = <span class="kw2">true</span>, result = <span class="kw1">void</span> <span class="nu0">0</span>;
    <span class="kw1">try</span> <span class="br0">&#123;</span>
        <span class="kw1">while</span> <span class="br0">&#40;</span><span class="kw2">true</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
            let next = send ? g.<span class="me1">send</span><span class="br0">&#40;</span>received<span class="br0">&#41;</span> : g.<span class="kw1">throw</span><span class="br0">&#40;</span>received<span class="br0">&#41;</span>;
            <span class="kw1">try</span> <span class="br0">&#123;</span>
                received = yield next;
                send = <span class="kw2">true</span>;
            <span class="br0">&#125;</span> <span class="kw1">catch</span> <span class="br0">&#40;</span>e<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                received = e;
                send = <span class="kw2">false</span>;
            <span class="br0">&#125;</span>
        <span class="br0">&#125;</span>
    <span class="br0">&#125;</span> <span class="kw1">catch</span> <span class="br0">&#40;</span>e<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>!isStopIteration<span class="br0">&#40;</span>e<span class="br0">&#41;</span><span class="br0">&#41;</span>
            <span class="kw1">throw</span> e;
        result = e.<span class="me1">value</span>;
    <span class="br0">&#125;</span> <span class="kw1">finally</span> <span class="br0">&#123;</span>
        <span class="kw1">try</span> <span class="br0">&#123;</span> g.<span class="kw3">close</span><span class="br0">&#40;</span><span class="br0">&#41;</span>; <span class="br0">&#125;</span> <span class="kw1">catch</span> <span class="br0">&#40;</span>ignored<span class="br0">&#41;</span> <span class="br0">&#123;</span> <span class="br0">&#125;</span>
    <span class="br0">&#125;</span>
    result
<span class="br0">&#125;</span></pre>
<p>
This is similar to a <code>for</code>-<code>in</code> loop over the generator, except that it propagates exceptions thrown via the outer generator&rsquo;s <code>throw</code> method into the delegated generator.
</p>

</div>
<!-- SECTION [4206-5179] -->
<a name="returning"></a><h2>Returning</h2>
<div class="level2">

<p>
 The semantics of <code>return e</code> inside a generator function is:
</p>

<p>
    Let V ?= Evaluate(e) <br/>
     Let K = the current execution context <br/>
     Let O = K.currentGenerator <br/>
     O.[[State]] := &ldquo;closed&rdquo; <br/>
     Let R = a new object with <br/>
         [[Class]] = &ldquo;StopIteration&rdquo; <br/>
     R.value := V <br/>
     Throw R
</p>

<p>
See <a href="doku.php%3Fid=harmony:iterators.html" class="wikilink1" title="harmony:iterators" onclick="return svchk()" onkeypress="return svchk()">iterators</a> for a discussion of <code>StopIteration</code>.
</p>

<p>
As in ordinary functions, <code>return;</code> is equivalent to <code>return (void 0);</code>, and if control falls off the end of a generator function body, the generator function performs an implicit <code>return;</code>.
</p>

</div>
<!-- SECTION [5180-5853] -->
<a name="generator_methods"></a><h1>Generator methods</h1>
<div class="level1">

</div>
<!-- SECTION [5854-5886] -->
<a name="methodnext"></a><h2>Method: next</h2>
<div class="level2">

<p>
 The <strong>next</strong> function&rsquo;s behavior is:
</p>

<p>
    If <strong>this</strong> is not a generator object, Throw Error <br/>
     Call <strong>this</strong>.[[Send]] with single argument <strong>undefined</strong> <br/>
     Return the result
</p>

</div>
<!-- SECTION [5887-6128] -->
<a name="methodsend"></a><h2>Method: send</h2>
<div class="level2">

<p>
 The <strong>send</strong> function&rsquo;s behavior is:
</p>

<p>
    If <strong>this</strong> is not a generator object, Throw Error <br/>
     Call <strong>this</strong>.[[Send]] with the first argument <br/>
     Return the result
</p>

</div>
<!-- SECTION [6129-6359] -->
<a name="methodthrow"></a><h2>Method: throw</h2>
<div class="level2">

<p>
 The <strong>throw</strong> function&rsquo;s behavior is:
</p>

<p>
    If <strong>this</strong> is not a generator object, Throw Error <br/>
     Call <strong>this</strong>.[[Throw]] with the first argument <br/>
     Return the result
</p>

</div>
<!-- SECTION [6360-6593] -->
<a name="methodclose"></a><h2>Method: close</h2>
<div class="level2">

<p>
 The <strong>close</strong> function&rsquo;s behavior is:
</p>

<p>
    If <strong>this</strong> is not a generator object, Throw Error <br/>
     Call <strong>this</strong>.[[Close]] with no arguments <br/>
     Return the result
</p>

</div>
<!-- SECTION [6594-6821] -->
<a name="methoditerate"></a><h2>Method: iterate</h2>
<div class="level2">

<p>
 Every generator is an iterator object, and it has an <em>iterate</em> method whose behavior is:
</p>

<p>
    Return <strong>this</strong>
</p>

<p>
In other words, generator iterators can be automatically used with <code>for</code>-<code>of</code> loops and comprehensions.
</p>

</div>
<!-- SECTION [6822-7080] -->
<a name="generator_objects"></a><h1>Generator objects</h1>
<div class="level1">

</div>
<!-- SECTION [7081-7113] -->
<a name="states"></a><h2>States</h2>
<div class="level2">

<p>
 A generator object can be in one of four states: 
</p>
<ul>
<li class="level1"><div class="li"> &ldquo;newborn&rdquo;: G.[[Code]] != <strong>null</strong> ∧ G.[[ExecutionContext]] = <strong>null</strong></div>
</li>
<li class="level1"><div class="li"> &ldquo;executing&rdquo;: G.[[Code]] = <strong>null</strong> ∧ G.[[ExecutionContext]] != <strong>null</strong> ∧ G.[[ExecutionContext]] is the current execution context</div>
</li>
<li class="level1"><div class="li"> &ldquo;suspended&rdquo;: G.[[Code]] = <strong>null</strong> ∧ G.[[ExecutionContext]] != <strong>null</strong> ∧ G.[[ExecutionContext]] is not the current execution context</div>
</li>
<li class="level1"><div class="li"> &ldquo;closed&rdquo;: G.[[Code]] = <strong>null</strong> ∧ G.[[ExecutionContext]] = <strong>null</strong></div>
</li>
</ul>

<p>
 It is never the case that G.[[Code]] != <strong>null</strong> ∧ G.[[ExecutionContext]] != <strong>null</strong>.
</p>

</div>
<!-- SECTION [7114-7800] -->
<a name="internal_methodsend"></a><h2>Internal method: send</h2>
<div class="level2">

<p>
 G.[[Send]]
</p>

<p>
    Let State = G.[[State]] <br/>
     If State = &ldquo;executing&rdquo; Throw Error <br/>
     If State = &ldquo;closed&rdquo; Throw Error <br/>
     Let X be the first argument <br/>
     If State = &ldquo;newborn&rdquo; <br/>
         If X != <strong>undefined</strong> Throw TypeError <br/>
         Let K = a new execution context as for a function call <br/>
         K.currentGenerator := G <br/>
         K.scopeChain := G.[[Scope]] <br/>
         Push K onto the stack <br/>
         Return <em>Execute</em>(G.[[Code]]) <br/>
     G.[[State]] := &ldquo;executing&rdquo; <br/>
     Let Result = <em>Resume</em>(G.[[ExecutionContext]], <strong>normal</strong>, X) <br/>
     Return Result
</p>

</div>
<!-- SECTION [7801-8617] -->
<a name="internal_methodthrow"></a><h2>Internal method: throw</h2>
<div class="level2">

<p>
 G.[[Throw]]
</p>

<p>
    Let State = G.[[State]] <br/>
     If State = &ldquo;executing&rdquo; Throw Error <br/>
     If State = &ldquo;closed&rdquo; Throw Error <br/>
     Let X be the first argument <br/>
     If State = &ldquo;newborn&rdquo; <br/>
         G.[[State]] := &ldquo;closed&rdquo; <br/>
         G.[[Code]] := <strong>null</strong> <br/>
         Return (<strong>throw</strong>, X, <strong>null</strong>) <br/>
     G.[[State]] := &ldquo;executing&rdquo; <br/>
     Let Result = <em>Resume</em>(G.[[ExecutionContext]], <strong>throw</strong>, X) <br/>
     Return Result
</p>

</div>
<!-- SECTION [8618-9235] -->
<a name="internal_methodclose"></a><h2>Internal method: close</h2>
<div class="level2">

<p>
 The <strong>close</strong> method terminates a suspended generator. This informs the generator to resume roughly as if via <code>return</code>, running any active <code>finally</code> blocks first before completing.
</p>

<p>
G.[[Close]]
</p>

<p>
    Let State = G.[[State]] <br/>
     If State = &ldquo;executing&rdquo; Throw Error <br/>
     If State = &ldquo;closed&rdquo; Return <strong>undefined</strong> <br/>
     If State = &ldquo;newborn&rdquo; <br/>
         G.[[State]] := &ldquo;closed&rdquo; <br/>
         G.[[Code]] := <strong>null</strong> <br/>
         Return (<strong>normal</strong>, <strong>undefined</strong>, <strong>null</strong>) <br/>
     G.[[State]] := &ldquo;executing&rdquo; <br/>
     Let Result = <em>Resume</em>(G.[[ExecutionContext]], <strong>return</strong>, <strong>undefined</strong>) <br/>
     G.[[State]] := &ldquo;closed&rdquo; <br/>
     Return Result
</p>

</div>
<!-- SECTION [9236-10078] -->
<a name="resuming_generators"></a><h2>Resuming generators</h2>
<div class="level2">

<p>
 (This operation assumes that we re-specify expressions to have completion types just like statements.)
</p>

<p>
<strong>Operation</strong> <em>Resume</em>(K, completionType, V)
</p>

<p>
    Push K onto the execution context stack <br/>
     Let G = K.currentGenerator <br/>
     Set the current scope chain to G.[[Scope]] <br/>
     Continue executing K as if its last expression produced (completionType, V, <strong>null</strong>)
</p>

</div>
<!-- SECTION [10079-10525] -->
<a name="references"></a><h1>References</h1>
<div class="level1">
<ul>
<li class="level1"><div class="li"> <a href="https://developer.mozilla.org/en/new_in_javascript_1.7" class="urlextern" target="_blank" title="https://developer.mozilla.org/en/new_in_javascript_1.7" onclick="return svchk()" onkeypress="return svchk()" rel="nofollow">Generators in SpiderMonkey</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://www.python.org/dev/peps/pep-0255/" class="urlextern" target="_blank" title="http://www.python.org/dev/peps/pep-0255/" onclick="return svchk()" onkeypress="return svchk()" rel="nofollow">PEP 255</a>, &ldquo;Simple generators&rdquo;</div>
</li>
<li class="level1"><div class="li"> <a href="http://www.python.org/dev/peps/pep-0380/" class="urlextern" target="_blank" title="http://www.python.org/dev/peps/pep-0380/" onclick="return svchk()" onkeypress="return svchk()" rel="nofollow">PEP 380</a>, &ldquo;Syntax for delegating to a sub-generator&rdquo;</div>
</li>
<li class="level1"><div class="li"> <a href="http://www.python.org/dev/peps/pep-3152/" class="urlextern" target="_blank" title="http://www.python.org/dev/peps/pep-3152/" onclick="return svchk()" onkeypress="return svchk()" rel="nofollow">PEP 3152</a>, &ldquo;Cofunctions&rdquo;</div>
</li>
</ul>

</div>
<!-- SECTION [10526-10894] -->
<a name="generator_object_model_diagram"></a><h1>Generator Object Model Diagram</h1>
<div class="level1">

<p>
 Based upon discussions at Nov. 2012 TC39 meeting.
</p>

<p>
 <a href="lib/exe/detail.php%3Fid=harmony%253Agenerators&amp;cache=cache&amp;media=harmony:es6_generator_object_model_3-29-13.png.html" class="media" title="harmony:es6_generator_object_model_3-29-13.png" onclick="return svchk()" onkeypress="return svchk()"><img src="lib/exe/fetch.php%3Fw=&amp;h=&amp;cache=cache&amp;media=harmony:es6_generator_object_model_3-29-13.png" class="media" alt="" /></a> 
</p>

</div>
<!-- SECTION [10895-] -->
<!-- cachefile /usr/local/www/es-lang.org/wiki/data/cache/3/30d0926cc51e028faf200f52c6e81a23.xhtml used -->
</body>
</html>
