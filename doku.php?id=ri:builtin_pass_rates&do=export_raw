====== Builtin pass rates ======





===== Spidermonkey tests =====

This is the result of evaluating

  ./run-spidermonkey-tests.sh

<code>
tests in suite:  FINISHED=420,    CRASHED=594 (41.00% FINISHED)
cases in tests:    PASSED=12153,     FAILED=1320 (90.00% PASSED)
</code>

 --- //[[graydon@mozilla.com|graydon]] 2007/05/07 15:01//

These are the results of evaluating

  ./run-spidermonkey-tests.sh -p <section-name>



at the shell.  Replace the signature in the section when you update its results.

The immediate goal for each category is to have at least 50% of the tests not crashing, and passing more than 50% of the tests that do run.




==== Array (15.4) ====

Results:

  tests in suite:  FINISHED=22,    CRASHED=5 (81.00% FINISHED) 
  cases in tests:    PASSED=4221,     FAILED=25 (99.00% PASSED)

Failures are:

  * ''toString'' implementation bugs ("should be '[object Array]'"; "[,,] => 'undefined,undefined'")
  * Failure to construct arrays with a predefined length  ("new Array(12345)")
  * Array.prototype.constructor initialization
  * Array.prototype.length initialization
  * Incorrect treatment of strings in array indexing: ''a["3.0"]'' is not the same as ''a["3"]''

Crashes are:

  * ''toString'' not found (2)
  * hang (2)
  * one undiagnosed thrown exception

 --- //[[lth@acm.org|Lars T Hansen]] 2007/04/26 00:39//



==== Boolean (15.6) ====

Results:

  tests in suite:  FINISHED=18,    CRASHED=2 (90.00% FINISHED)
  cases in tests:    PASSED=145,     FAILED=18 (88.00% PASSED)

Failures:

  * Confusion around the state of ''Boolean'' as a class and its ''toString'' method.

Crashes:

  * Our test-runner script is not paying attention to the scripts that are supposed to crash. 

 --- //[[graydon@mozilla.com|graydon]] 2007/05/04 15:01//





==== Date (15.9) ====

Result:

  tests in suite:  FINISHED=76,    CRASHED=80 (48.00% FINISHED)
  cases in tests:    PASSED=4676,     FAILED=35 (99.00% PASSED)

Failures:

  * mostly non-NaN numbers where NaN results are expected

Crashes:

  * 8 hangs
  * Interpreter error: "machError getting uninitialized temporary 1", and others
  * Date can't be called as function (probably)
  * isoTimestamp not defined

 --- //[[lth@acm.org|Lars T Hansen]] 2007/05/03 02:26//

==== Error (15.11) ====

==== Function (15.3) ====

Results:

  tests in suite:  FINISHED=13,    CRASHED=5 (72.00% FINISHED)
  cases in tests:    PASSED=29,     FAILED=16 (64.00% PASSED)

Failures:

  * toString protocol
  * ''Function.arguments'' bug

Crashes:

  * RegExp missing
  * Some parse errors
  * misc internal errors

 --- //[[lth@acm.org|Lars T Hansen]] 2007/04/20 11:36//


==== Global (15.1) ====

Results:

  tests in suite:  FINISHED=6,    CRASHED=10 (37.00% FINISHED)
  cases in tests:    PASSED=96,     FAILED=16 (85.00% PASSED)

Crashes:

  * RegExp missing
  * escape and unescape missing (not in E262-3, I think)
  * sundry internal errors

 --- //[[lth@acm.org|Lars T Hansen]] 2007/04/20 11:45//


==== Math (15.8) ====

Results:

  tests in suite:  FINISHED=23,    CRASHED=16 (58.00% FINISHED)
  cases in tests:    PASSED=205,     FAILED=19 (91.00% PASSED)

Failures:

  * Missing type conversions at call boundaries
  * Treatment of -0.0

Crashes:

  * Probably the 'this' bug; almost all are related to the ''length'' getter on the Function object, and the native implementation of that bombs out because the object (derived from ''this'' on the ES side) is not a function object.

 --- //[[graydon@mozilla.com|graydon]] 2007/05/02 23:34//




==== Number (15.7) ====

Results:

  tests in suite:  FINISHED=31,    CRASHED=5 (86.00% FINISHED)
  cases in tests:    PASSED=78,     FAILED=31 (71.00% PASSED)

Failures:

  * The constructor seems a little off, mainly

Crashes:

  * Many 'setValue on virtual property w/o setter' errors
  * Some 'getting uninitialized temporary 1' errors
  * One hang

 --- //[[graydon@mozilla.com|graydon]] 2007/05/04 13:43//

==== Object (15.2) ====

Results:

  tests in suite:  FINISHED=9,    CRASHED=2 (81.00% FINISHED)
  cases in tests:    PASSED=24,     FAILED=29 (45.00% PASSED)

Failures:

  * bugs in the ''toString'' protocol
  * properties are not DontEnum when they should be

Errors:

  * RegExp missing
  * Missing primitive

 --- //[[lth@acm.org|Lars T Hansen]] 2007/04/20 11:29//




==== RegExp (15.10) ====

<code>
  ---------------------------------------------------
  Top 10 crashes:
  ---------------------------------------------------
   1:     5 evalError need lexical or object-reference expression
   2:     2 evalError evalCallExpr: calling non-callable object
   3:     1 evalError ref expression on undef value with 
   4:     1 evalError unresolved identifier expression "toSource"
  ---------------------------------------------------
  0 completions, 1 xerrors, 9 errors, 0 alarms
  0 parseErrors, 0 defnErrors, 0 verifyErrors
  9 evalErrors, 0 machErrors, 0 hostErrors
  72 PASSED, 144 FAILED
  ---------------------------------------------------
  100% of crashes in top 10
  10% of 10 runs OK or xerror
  33% of 216 executed cases PASSED
</code>

--lars


==== String (15.5) ====

Results:

  tests in suite:  FINISHED=33,    CRASHED=16 (67.00% FINISHED)
  cases in tests:    PASSED=2001,     FAILED=174 (92.00% PASSED)

Failures:

  * Prototype misbehavior

Crashes:

  * Duplicate definition of a shell function
  * Dependence on undefined Unicode case converters

 --- //[[graydon@mozilla.com|graydon]] 2007/04/27 00:20//