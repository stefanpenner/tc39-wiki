<html>
<head>
  <meta name="generator" content="DokuWiki Release 2005-09-22e" />
  <link rel="start" href="index.html" />
  <link rel="contents" href="doku.php%3Fid=proposals:syntactic_semantics&amp;do=index.html" title="" />
  <link rel="alternate" type="application/rss+xml" title="Recent Changes" href="feed.php" />
  <link rel="alternate" type="application/rss+xml" title="Current Namespace" href="feed.php%3Fmode=list&amp;ns=proposals" />
  <link rel="alternate" type="text/html" title="Plain HTML" href="doku.php%3Fid=proposals:syntactic_semantics&amp;do=export_html.html" />
  <link rel="alternate" type="text/plain" title="Wiki Markup" href="doku.php%3Fid=proposals:syntactic_semantics&amp;do=export_raw" />
  <link rel="stylesheet" media="screen" type="text/css" href="lib/styles/style.css" />
  <meta name="robots" content="noindex,nofollow" />
  <script language="javascript" type="text/javascript" charset="utf-8">
    var alertText   = 'Please enter the text you want to format.\nIt will be appended to the end of the document.'
    var notSavedYet = 'Unsaved changes will be lost.\nReally continue?'
    var DOKU_BASE   = '/'
  </script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/script.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/tw-sack.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/ajax.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/domLib.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/domTT.js"></script>
  <link rel="stylesheet" type="text/css" href="lib/plugins/plugin/style.css" />
</head>
<body>
<div class="toc">
<div class="tocheader"> <script type="text/javascript">showTocToggle("+","-")</script>Table of Contents</div>
<div id="tocinside">
<ul class="toc">
<li class="level1"><span class="li"><a href="doku.php%3Fid=proposals:syntactic_semantics&amp;do=export_html.html#syntactic_semantics_notation" class="toc">Syntactic semantics notation</a></span></li>
<li class="level1"><span class="li"><a href="doku.php%3Fid=proposals:syntactic_semantics&amp;do=export_html.html#prior_discussion" class="toc">Prior discussion</a></span><ul class="toc">
<li class="level2"><span class="li"><a href="doku.php%3Fid=proposals:syntactic_semantics&amp;do=export_html.html#proposed_notation" class="toc">Proposed notation</a></span></li>
<li class="level2"><span class="li"><a href="doku.php%3Fid=proposals:syntactic_semantics&amp;do=export_html.html#example_multiplicative_expressions" class="toc">Example : Multiplicative expressions</a></span></li>
<li class="level2"><span class="li"><a href="doku.php%3Fid=proposals:syntactic_semantics&amp;do=export_html.html#verification" class="toc">Verification</a></span></li>
<li class="level2"><span class="li"><a href="doku.php%3Fid=proposals:syntactic_semantics&amp;do=export_html.html#evaluation" class="toc">Evaluation</a></span></li>
<li class="level2"><span class="li"><a href="doku.php%3Fid=proposals:syntactic_semantics&amp;do=export_html.html#example_while_statement" class="toc">Example : While statement</a></span></li>
<li class="level2"><span class="li"><a href="doku.php%3Fid=proposals:syntactic_semantics&amp;do=export_html.html#verification" class="toc">Verification</a></span></li>
<li class="level2"><span class="li"><a href="doku.php%3Fid=proposals:syntactic_semantics&amp;do=export_html.html#generation" class="toc">Generation</a></span></li>
<li class="level2"><span class="li"><a href="doku.php%3Fid=proposals:syntactic_semantics&amp;do=export_html.html#link_to_anf" class="toc">Link to ANF?</a></span></li>
<li class="level2"><span class="li"><a href="doku.php%3Fid=proposals:syntactic_semantics&amp;do=export_html.html#existing_notations" class="toc">Existing notations</a></span><ul class="toc">
<li class="level3"><span class="li"><a href="doku.php%3Fid=proposals:syntactic_semantics&amp;do=export_html.html#es3_regexp_notation" class="toc">ES3 RegExp notation</a></span></li>
<li class="level3"><span class="li"><a href="doku.php%3Fid=proposals:syntactic_semantics&amp;do=export_html.html#e4x_notation" class="toc">E4X notation</a></span></li>
<li class="level3"><span class="li"><a href="doku.php%3Fid=proposals:syntactic_semantics&amp;do=export_html.html#waldemar_s_edition_4_notation" class="toc">Waldemar's Edition 4 notation</a></span></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<a name="syntactic_semantics_notation"></a><h1>Syntactic semantics notation</h1>
<div class="level1">
<ul>
<li class="level1"><div class="li"> We will use a portable subset of ML</div>
</li>
<li class="level1"><div class="li"> We need style guidelines for the ML code</div>
</li>
<li class="level1"><div class="li"> We should prefer completeness over correctness</div>
</li>
</ul>

</div>
<!-- SECTION [1-182] -->
<a name="prior_discussion"></a><h1>Prior discussion</h1>
<div class="level1">

</div>
<!-- SECTION [183-214] -->
<a name="proposed_notation"></a><h2>Proposed notation</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> The interpretation of a syntactic form is defined as a sequence of steps</div>
</li>
<li class="level1"><div class="li"> Italicized names refer to syntactic non-terminals</div>
</li>
<li class="level1"><div class="li"> Bolded names refer to built-in values</div>
</li>
<li class="level1"><div class="li"> Underlined names refer to spec variables</div>
</li>
<li class="level1"><div class="li"> Steps begin with a primitive action (e.g. Verify, Read, CheckType). The meaning of these primitives must, of course, be defined elsewhere</div>
</li>
<li class="level1"><div class="li"> Primitive actions can be chained together in a single step (e.g. <code>Return Read <u>r</u></code>). In this case the first primitive is applied to the result of the second</div>
</li>
<li class="level1"><div class="li"> The form &lsquo;Let ... &larr; ...&rsquo; binds the spec name on the left side of &larr; to the value of the expression on the right side. Spec names shall only be bound once</div>
</li>
<li class="level1"><div class="li"> Text between &laquo; and &raquo; is English prose, which in most cases should be replaced with the formal notation </div>
</li>
<li class="level1"><div class="li"> The value of the last step in a sequence is the value returned from that sequence. &lsquo;Return&rsquo; is optional but sometimes used for clarity</div>
</li>
</ul>

</div>
<!-- SECTION [215-1179] -->
<a name="example_multiplicative_expressions"></a><h2>Example : Multiplicative expressions</h2>
<div class="level2">

</div>
<!-- SECTION [1180-1229] -->
<a name="verification"></a><h2>Verification</h2>
<div class="level2">
<pre class="code">
MultiplicativeExpression : UnaryExpression
</pre>
<ul>
<li class="level1"><div class="li"> Verify <em>UnaryExpression</em></div>
</li>
</ul>
<pre class="code">
MultiplicativeExpression : MultiplicativeExpression  *  UnaryExpression
</pre>
<ul>
<li class="level1"><div class="li"> Let <u>x</u> &larr; Verify <em>MultiplicitiveExpression</em></div>
</li>
<li class="level1"><div class="li"> CheckType <u>x</u>, <strong>Number</strong></div>
</li>
<li class="level1"><div class="li"> Let <u>y</u> &larr; Verify <em>UnaryExpression</em></div>
</li>
<li class="level1"><div class="li"> CheckType <u>y</u>, <strong>Number</strong></div>
</li>
<li class="level1"><div class="li"> Return <strong>Number</strong></div>
</li>
</ul>
<pre class="code">
</pre>

</div>
<!-- SECTION [1230-1634] -->
<a name="evaluation"></a><h2>Evaluation</h2>
<div class="level2">
<pre class="code">
MultiplicativeExpression : UnaryExpression
</pre>
<ul>
<li class="level1"><div class="li"> Evaluate <em>UnaryExpression</em></div>
</li>
</ul>
<pre class="code">
MultiplicativeExpression : MultiplicativeExpression  *  UnaryExpression
</pre>
<ul>
<li class="level1"><div class="li"> Let <u>r</u> &larr; Evaluate <em>MultiplicitiveExpression</em></div>
</li>
<li class="level1"><div class="li"> Let <u>x</u> &larr; Read <u>r</u></div>
</li>
<li class="level1"><div class="li"> Let <u>s</u> &larr; Evaluate <em>UnaryExpression</em></div>
</li>
<li class="level1"><div class="li"> Let <u>y</u> &larr; Read <u>x</u></div>
</li>
<li class="level1"><div class="li"> Return Multiply <u>x</u>, <u>y</u></div>
</li>
</ul>
<pre class="code"> </pre>

</div>
<!-- SECTION [1635-2034] -->
<a name="example_while_statement"></a><h2>Example : While statement</h2>
<div class="level2">

</div>
<!-- SECTION [2035-2073] -->
<a name="verification"></a><h2>Verification</h2>
<div class="level2">
<pre class="code">
WhileStatement : while ParenListExpression Substatement
</pre>
<ul>
<li class="level1"><div class="li"> Let <u>continueTargets</u> &larr; &laquo;the current set of possible targets of continue targets&raquo;</div>
</li>
<li class="level1"><div class="li"> Let <u>breakTargets</u> &larr; &laquo;the current set of possible targets of break targets&raquo;</div>
</li>
<li class="level1"><div class="li"> Push <u>continueTargets</u> &larr; &laquo;the default label&raquo;</div>
</li>
<li class="level1"><div class="li"> Push <u>breakTargets</u> &larr; &laquo;the default label&raquo;</div>
</li>
<li class="level1"><div class="li"> Verify <em>ParenListExpression</em></div>
</li>
<li class="level1"><div class="li"> Verify <em>Substatement</em></div>
</li>
</ul>

</div>
<!-- SECTION [2074-2516] -->
<a name="generation"></a><h2>Generation</h2>
<div class="level2">

<p>
 Generate &laquo;<em>WhileStatement</em> : <code>while</code> <em>ParenListExpression</em>:<em>e</em> <em>Substatement</em>:<em>s</em>&raquo;, <em>labels</em> = 
</p>
<ul>
<li class="level1"><div class="li"> Try</div>
<ul>
<li class="level2"><div class="li"> Loop <u>L</u> (<u>result</u> &larr; <strong>nothing</strong>) {</div>
<ul>
<li class="level3"><div class="li"> Let <u>v</u> &larr; &laquo;Generate <em>e</em>, <em>labels</em>&raquo;;</div>
</li>
<li class="level3"><div class="li"> Let <u>x</u> &larr; Read <u>v</u>;</div>
</li>
<li class="level3"><div class="li"> Let <u>b</u> &larr; Convert <u>x</u>, <strong>Boolean</strong>;</div>
</li>
<li class="level3"><div class="li"> If Not <u>b</u></div>
</li>
<li class="level3"><div class="li"> Then {</div>
<ul>
<li class="level4"><div class="li"> Let <u>current</u> &larr;</div>
<ul>
<li class="level5"><div class="li"> Try</div>
<ul>
<li class="level6"><div class="li"> &laquo;Generate <em>s</em>, <em>labels</em>&raquo;</div>
</li>
</ul>
</li>
<li class="level5"><div class="li"> Catch (Continue:&laquo;<em>labels</em>&raquo;)</div>
<ul>
<li class="level6"><div class="li"> <strong>nothing</strong>;</div>
</li>
</ul>
</li>
</ul>
</li>
<li class="level4"><div class="li"> Let <u>next</u> &larr; If <u>current</u> = <strong>nothing</strong> Then <u>result</u> Else <u>current</u>;</div>
</li>
<li class="level4"><div class="li"> Repeat <u>L</u> (<u>next</u>)</div>
</li>
</ul>
</li>
<li class="level3"><div class="li"> }</div>
</li>
<li class="level3"><div class="li"> Else <u>result</u></div>
</li>
</ul>
</li>
<li class="level2"><div class="li"> }</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> Catch (Break:&laquo;<em>labels</em>&raquo;)</div>
<ul>
<li class="level2"><div class="li"> <strong>nothing</strong></div>
</li>
</ul>
</li>
</ul>

</div>
<!-- SECTION [2517-3256] -->
<a name="link_to_anf"></a><h2>Link to ANF?</h2>
<div class="level2">

<p>
 I observe that with no line numbers and more <code>Let</code> bindings in the metalanguage it becomes something that looks superficially like A-Normal Form.  A paper of Cormac&rsquo;s seems to be the canonical reference for this:
</p>

<p>
<a href="http://doi.acm.org/10.1145/155090.155113" class="urlextern" target="_blank" title="http://doi.acm.org/10.1145/155090.155113" onclick="return svchk()" onkeypress="return svchk()" rel="nofollow">http://doi.acm.org/10.1145/155090.155113</a>
</p>

<p>
Whether this is of any practical consequence whatsoever to our work remains to be explored; perhaps Cormac can elaborate.
</p>

<p>
 &mdash; <em><a href="mailto:%26%23x6c%3B%26%23x74%3B%26%23x68%3B%26%23x40%3B%26%23x6f%3B%26%23x70%3B%26%23x65%3B%26%23x72%3B%26%23x61%3B%26%23x2e%3B%26%23x63%3B%26%23x6f%3B%26%23x6d%3B" class="mail" title="&#x6c;&#x74;&#x68;&#x40;&#x6f;&#x70;&#x65;&#x72;&#x61;&#x2e;&#x63;&#x6f;&#x6d;">Lars T Hansen</a> 2006/10/11 10:49</em>
</p>

<p>
Hey Cormac,
</p>

<p>
Can you provide us with a copy of this paper? I don&rsquo;t pay ACM enough money to download it from their web site.
</p>

<p>
 &mdash; <em><a href="mailto:%26%23x6a%3B%26%23x6f%3B%26%23x64%3B%26%23x79%3B%26%23x65%3B%26%23x72%3B%26%23x40%3B%26%23x61%3B%26%23x64%3B%26%23x6f%3B%26%23x62%3B%26%23x65%3B%26%23x2e%3B%26%23x63%3B%26%23x6f%3B%26%23x6d%3B" class="mail" title="&#x6a;&#x6f;&#x64;&#x79;&#x65;&#x72;&#x40;&#x61;&#x64;&#x6f;&#x62;&#x65;&#x2e;&#x63;&#x6f;&#x6d;">Jeff Dyer</a> 2006/10/11 11:53</em>
</p>

<p>
Never mind, I paid the five bucks to get it. Here are a couple more interesting links:
</p>

<p>
Retrospective: The Essence of Compiling with Continuations, Flanagan et al:
</p>

<p>
<a href="http://www.soe.ucsc.edu/~cormac/papers/best-pldi.pdf" class="urlextern" target="_blank" title="http://www.soe.ucsc.edu/~cormac/papers/best-pldi.pdf" onclick="return svchk()" onkeypress="return svchk()" rel="nofollow">http://www.soe.ucsc.edu/~cormac/papers/best-pldi.pdf</a>
</p>

<p>
SSA is Functional Programming, Appel:
</p>

<p>
<a href="http://www.cs.princeton.edu/~appel/papers/ssafun.pdf#search=%22SSA%20is%20functional%22" class="urlextern" target="_blank" title="http://www.cs.princeton.edu/~appel/papers/ssafun.pdf#search=%22SSA%20is%20functional%22" onclick="return svchk()" onkeypress="return svchk()" rel="nofollow">http://www.cs.princeton.edu/~appel/papers/ssafun.pdf#search=%22SSA%20is%20functional%22</a>
</p>

<p>
Yes, this is related both to A-Normal Form and monads, both of which are a standard &ldquo;semantics design pattern&rdquo; for creating the basic computational structure of a semantics.
</p>

<p>
<acronym title="By the way">BTW</acronym>, Cormac has the ANF paper linked to from his web page at:
</p>

<p>
<a href="http://www.soe.ucsc.edu/~cormac/papers/pldi93.ps" class="urlextern" target="_blank" title="http://www.soe.ucsc.edu/~cormac/papers/pldi93.ps" onclick="return svchk()" onkeypress="return svchk()" rel="nofollow">http://www.soe.ucsc.edu/~cormac/papers/pldi93.ps</a>
</p>

<p>
 &mdash; <em><a href="mailto:%26%23x64%3B%26%23x68%3B%26%23x65%3B%26%23x72%3B%26%23x6d%3B%26%23x61%3B%26%23x6e%3B%26%23x40%3B%26%23x63%3B%26%23x63%3B%26%23x73%3B%26%23x2e%3B%26%23x6e%3B%26%23x65%3B%26%23x75%3B%26%23x2e%3B%26%23x65%3B%26%23x64%3B%26%23x75%3B" class="mail" title="&#x64;&#x68;&#x65;&#x72;&#x6d;&#x61;&#x6e;&#x40;&#x63;&#x63;&#x73;&#x2e;&#x6e;&#x65;&#x75;&#x2e;&#x65;&#x64;&#x75;">Dave Herman</a> 2006/10/16 12:19</em>
</p>

<p>
To answer your question better, Lars, the reason why this begins to resembled SSA, ANF, or monadic style is that all of these styles explicitly encode the <em>order</em> in which subexpressions of an expression are evaluated. This is useful for writing compilers because it converts a tree-shaped expression into a list-shaped sequence of statements (making it easier to translate into straight-line assembly language). The reason why it&rsquo;s also useful for a specification language is that it informs the reader about the order of evaluation.
</p>

<p>
We don&rsquo;t have to be extremist about never nesting expressions in the specification language, and we can always specify the order of evaluation of the specification language itself. But for the sake of making it informative to the reader, being relatively consistent about sequencing subcomputations via <code>Let</code> will have the benefit of making the order of evaluation explicit.
</p>

<p>
 &mdash; <em><a href="mailto:%26%23x64%3B%26%23x68%3B%26%23x65%3B%26%23x72%3B%26%23x6d%3B%26%23x61%3B%26%23x6e%3B%26%23x40%3B%26%23x63%3B%26%23x63%3B%26%23x73%3B%26%23x2e%3B%26%23x6e%3B%26%23x65%3B%26%23x75%3B%26%23x2e%3B%26%23x65%3B%26%23x64%3B%26%23x75%3B" class="mail" title="&#x64;&#x68;&#x65;&#x72;&#x6d;&#x61;&#x6e;&#x40;&#x63;&#x63;&#x73;&#x2e;&#x6e;&#x65;&#x75;&#x2e;&#x65;&#x64;&#x75;">Dave Herman</a> 2006/10/17 10:04</em>
</p>

</div>
<!-- SECTION [3257-5582] -->
<a name="existing_notations"></a><h2>Existing notations</h2>
<div class="level2">

</div>
<!-- SECTION [5583-5614] -->
<a name="es3_regexp_notation"></a><h3>ES3 RegExp notation</h3>
<div class="level3">

<p>
 Here is a sample of the ES3 notation used for describing RegExp:
</p>
<pre class="code">
15.10.2.9 AtomEscape
The production AtomEscape :: DecimalEscape evaluates as follows:
    1.	Evaluate DecimalEscape to obtain an EscapeValue E.
    2.	If E is not a character then go to step 6.
    3.	Let ch be E's character.
    4.	Let A be a one-element CharSet containing the character ch.
    5.	Call CharacterSetMatcher(A, false) and return its Matcher result.
    6.	E must be an integer. Let n be that integer.
    7.	If n=0 or n&gt;NCapturingParens then throw a SyntaxError exception.
    8.	Return an internal Matcher closure that takes two arguments, a State x and a Continuation c, and performs the following:
        1.	Let cap be x's captures internal array.
        2.	Let s be cap[n].
        3.	If s is undefined, then call c(x) and return its result.
        4.	Let e be x's endIndex.
        5.	Let len be s's length.
        6.	Let f be e+len.
        7.	If f&gt;InputLength, return failure.
        8.	If there exists an integer i between 0 (inclusive) and len (exclusive) such that Canonicalize(s[i]) is not the same character as Canonicalize(Input [e+i]), then return failure.
        9.	Let y be the State (f, cap).
        10.	Call c(y) and return its result.

The production AtomEscape :: CharacterEscape evaluates as follows:
    1.	Evaluate CharacterEscape to obtain a character ch.
    2.	Let A be a one-element CharSet containing the character ch.
    3.	Call CharacterSetMatcher(A, false) and return its Matcher result.

The production AtomEscape :: CharacterClassEscape evaluates as follows:
    1.	Evaluate CharacterClassEscape to obtain a CharSet A.
    2.	Call CharacterSetMatcher(A, false) and return its Matcher result.

</pre>

</div>
<!-- SECTION [5615-7378] -->
<a name="e4x_notation"></a><h3>E4X notation</h3>
<div class="level3">

<p>
 7	Notational Conventions
</p>

<p>
This specification extends the notational conventions used in the ECMAScript Edition 3 specification. In particular, it extends the algorithm notation to improve the clarity, readability and maintainability of this specification. The new algorithm conventions are described in this section.
</p>

<p>
7.1	Algorithm Conventions
</p>

<p>
This section introduces the algorithm conventions this specification adds to those used to describe the semantics of ECMAScript Edition 3. These conventions are not part of the E4X language. They are used within this specification to describe the semantics of E4X operations.
</p>

<p>
7.1.1	Indentation Style
</p>

<p>
This specification extends the notation used in the ECMAScript Edition 3 specification by defining an algorithm indentation style. The new algorithm indention style is used in this specification to group related collections of steps together. This convention is useful for expressing a set of steps that are taken conditionally or repeatedly. For example, the following algorithm fragment uses indentation to describe a set of steps that are taken conditionally: 
</p>
<pre class="code"> 1.	If resetParameters is true
   a.	Let x = 0
   b.	Let y = 0
   c.	Let deltaX = 0.5
 2.	Else
   a.	Let deltaX = deltaX + accelerationX</pre>

<p>
 In the example above, steps 1.a through 1.c are taken if the condition expressed in step 1 evaluates to true. Otherwise, step 2.a is taken.
</p>

<p>
Standard outline numbering form is used to identify steps and distinguish nested levels of indentation when it might not otherwise be obvious due to pagination. 
</p>

<p>
7.1.2	Property Access
</p>

<p>
This specification extends the notation used in the ECMAScript Edition 3 specification by defining three property access conventions. When used on the left hand side of an assignment operation in this specification, the property access conventions are used to modify the value of a specified property of a specified object. In other contexts in this specification, the property access conventions are used for specifying that the value of a specified property be retrieved from a specified object based on its property name. 
</p>

<p>
There are three forms of the property access conventions, two for accessing normal properties and one for accessing internal properties. The first convention for accessing normal properties is expressed using the following notation: 
</p>
<pre class="code">object . propertyName</pre>

<p>
 When used on the left hand side of an assignment operation, this property access convention is equivalent to calling the [[Put]] method of object, passing the string literal containing the same sequence of parameters as propertyName and the value from the right hand side of the assignment operator as arguments. For example, the following algorithm fragment: 
</p>
<pre class="code"> 1.	Let item.price = &quot;5.95&quot;</pre>

<p>
 is equivalent to the following algorithm fragment: 
</p>
<pre class="code"> 1.	Call the [[Put]] method of item with arguments &quot;price&quot; and &quot;5.95&quot;</pre>

<p>
 When used in other contexts, this property access convention is equivalent to calling the [[Get]] method of object passing the string literal containing the same sequence of characters as propertyName as an argument. For example, the following algorithm fragment: 
</p>
<pre class="code"> 1.	Let currentPrice = item.price</pre>

<p>
 is equivalent to the following algorithm fragment: 
</p>
<pre class="code"> 1.	Let currentPrice be the result of calling the [[Get]] method of item with argument &quot;price&quot;</pre>

<p>
 The second convention for accessing normal properties is expressed using the following notation: 
</p>
<pre class="code">object [ propertyName ]</pre>

<p>
 When used on the left hand side of an assignment operation, this property access convention is equivalent to calling the Object [[Put]] method with object as the this object, passing ToString(propertyName) and the value from the right hand side of the assignment operator as arguments. For example, the following algorithm fragment: 
</p>
<pre class="code"> 1.	Let item[1] = item2</pre>

<p>
 is equivalent to the following algorithm fragment: 
</p>
<pre class="code"> 1.	Call the Object [[Put]] method with item as the this object and arguments ToString(1) and item2</pre>

<p>
 When used in other contexts, this property access convention is equivalent to calling the Object [[Get]] method with object as the this object and argument ToString(propertyName). For example, the following algorithm fragment: 
</p>
<pre class="code"> 1.	Let item2 = item[1]</pre>

<p>
 is equivalent to the following algorithm fragment: 
</p>
<pre class="code"> 1.	Let item2 be the result of calling the Object [[Get]] method with item as the this object and argument ToString(1)</pre>

<p>
 This is a convenient and familiar notation for specifying numeric property names used as array indices.
</p>

<p>
The convention for accessing internal property names, including those that refer to internal methods, is specified using the following notation: 
</p>
<pre class="code">object . [[ internalPropertyName ]]</pre>

<p>
 When used on the left hand side of an assignment operation, this property access convention is equivalent to setting the value of the [[ internalPropertyName ]] of the specified object to the value from the right hand side of the assignment operator. For example, the following algorithm fragment: 
</p>
<pre class="code"> 1.	Let x.[[Class]] = &quot;element&quot;</pre>

<p>
 is equivalent to the following algorithm fragment: 
</p>
<pre class="code"> 1.	Let the value of the [[Class]] property of x be &quot;element&quot;</pre>

<p>
 When used in other contexts, this property access convention is equivalent to getting the value of the [[internalPropertyName]] property of object. For example, the following algorithm fragment: 
</p>
<pre class="code"> 1.	Let class = x.[[Class]]</pre>

<p>
 is equivalent to the following algorithm fragment: 
</p>
<pre class="code"> 1.	Let class be the value of the [[Class]] property of x</pre>

<p>
 7.1.3	Iteration
</p>

<p>
This specification extends the notation used for describing ECMAScript Edition 3 by defining two iteration conventions. These iteration conventions are used by this specification for expressing that a set of steps shall be taken once for each item in a collection or once for each integer in a specified range.
</p>

<p>
The first iteration convention is defined for expressing a sequence of steps that shall be taken once for each member of a collection. It is expressed using the following for each notation: 
</p>
<pre class="code">For each item in collection steps</pre>

<p>
 This for each notation is equivalent to performing the given steps repeatedly with the variable item bound to each member of collection. The value of collection is computed once prior to performing steps and does not change while performing steps. The order in which item is bound to members of collection is implementation dependent. The repetition ends after item has been bound to all the members of collection or when the algorithm exits via a return or a thrown exception. The steps may be specified on the same line following a comma or on the following lines using the indentation style described in section 7.1.1. For example, 
</p>
<pre class="code"> 1.	Let total = 0
 2.	For each product in groceryList
   a.	If product.price &gt; maxPrice, throw an exception 
   b.	Let total = total + product.price</pre>

<p>
 In this example, steps 2.a and 2.b are repeated once for each member of the collection groceryList or until an exception is thrown in line 2.a. The variable product is bound to the value of a different member of groceryList before each repetition of these steps.
</p>

<p>
The second iteration convention defined by this specification is for expressing a sequence of steps that shall be repeated once for each integer in a specified range of integers. It is expressed using the following for notation: 
</p>
<pre class="code">For variable = first to last steps</pre>

<p>
 This for notation is equivalent to computing first and last, which will evaluate to integers i and j respectively, and performing the given steps repeatedly with the variable variable bound to each member of the sequence i, i+1 â€¦ j in numerical order. The values of first and last are computed once prior to performing steps and do not change while performing steps. The repetition ends after variable has been bound to each item of this sequence or when the algorithm exits via a return or a thrown exception. If i is greater than j, the steps are not performed. The steps may be specified on the same line following a comma or on the following lines using the indentation style described above. For example, 
</p>
<pre class="code"> 1.	For i = 0 to priceList.length-1, call ToString(priceList[i])</pre>

<p>
 In this example, ToString is called once for each item in priceList in sequential order.
</p>

<p>
A modified version of the for notation exists for iterating through a range of integers in reverse sequential order. It is expressed using the following notation: 
</p>
<pre class="code">For variable = first downto last steps</pre>

<p>
 The modified for notation works exactly as described above except the variable variable is bound to each member of the sequence i, i-1, .. j in reverse numerical order. If i is less than j, the steps are not performed.
</p>

<p>
7.1.4	Conditional Repetition
</p>

<p>
This specification extends the notation used in the ECMAScript Edition 3 specification by defining a convention for expressing conditional repetition of a set of steps. This convention is defined by the following notation: 
</p>
<pre class="code">While ( expression ) steps</pre>

<p>
 The while notation is equivalent to computing the expression, which will evaluate to either true or false and if it is true, taking the given steps and repeating this process until the expression evaluates to false or the algorithm exits via a return or a thrown exception. The steps may be specified on the same line following a comma or on the following lines using the indentation style described above. For example, 
</p>
<pre class="code"> 1.	Let log2 = 0
 2.	While (n &gt; 1)
   a.	Let n = n / 2
   b.	Let log2 = log2 + 1</pre>

<p>
 In this example, steps 2.a and 2.b are repeated until the expression n &gt; 1 evaluates to false.
</p>

<p>
7.1.5	Method Invocation
</p>

<p>
This specification extends the notation used in the ECMAScript Edition 3 specification by defining a method invocation convention. The method invocation convention is used in this specification for calling a method of a given object passing a given set of arguments and returning the result. This convention is defined by the following notation: 
</p>
<pre class="code">object . methodName ( arguments )</pre>

<p>
 where arguments is a comma separated list of zero or more values. The method invocation notation is equivalent to constructing a new Reference r with base object set to object and property name set to a string literal containing the same sequence of characters as methodName, constructing an internal list list of the values in arguments, invoking the CallMethod operator (section 11.2.2.1) passing r and list as arguments and returning the result. For example, the following algorithm fragment: 
</p>
<pre class="code"> 1.	Let sub = s.substring(2, 5)</pre>

<p>
 Is equivalent to the following algorithm fragment: 
</p>
<pre class="code"> 1.	Let r be a new Reference with base object = s and property name = &quot;substring&quot;
 2.	Let list be an internal list containing the values 2 and 5
 3.	Let sub = CallMethod(r, list)</pre>

</div>
<!-- SECTION [7379-18163] -->
<a name="waldemar_s_edition_4_notation"></a><h3>Waldemar's Edition 4 notation</h3>
<div class="level3">

<p>
 <a href="http://www.mozilla.org/js/language/js20/formal/notation.html" class="urlextern" target="_blank" title="http://www.mozilla.org/js/language/js20/formal/notation.html" onclick="return svchk()" onkeypress="return svchk()" rel="nofollow">http://www.mozilla.org/js/language/js20/formal/notation.html</a> 
</p>

</div>
<!-- SECTION [18164-] -->
<!-- cachefile /usr/local/www/es-lang.org/wiki/data/cache/9/96956ffb8ef5df5e0984862298968600.xhtml used -->
</body>
</html>
