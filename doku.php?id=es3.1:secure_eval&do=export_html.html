<html>
<head>
  <meta name="generator" content="DokuWiki Release 2005-09-22e" />
  <link rel="start" href="index.html" />
  <link rel="contents" href="doku.php%3Fid=es3.1:secure_eval&amp;do=index.html" title="" />
  <link rel="alternate" type="application/rss+xml" title="Recent Changes" href="feed.php" />
  <link rel="alternate" type="application/rss+xml" title="Current Namespace" href="feed.php%3Fmode=list&amp;ns=es3.1" />
  <link rel="alternate" type="text/html" title="Plain HTML" href="doku.php%3Fid=es3.1:secure_eval&amp;do=export_html.html" />
  <link rel="alternate" type="text/plain" title="Wiki Markup" href="doku.php%3Fid=es3.1:secure_eval&amp;do=export_raw" />
  <link rel="stylesheet" media="screen" type="text/css" href="lib/styles/style.css" />
  <meta name="robots" content="noindex,nofollow" />
  <script language="javascript" type="text/javascript" charset="utf-8">
    var alertText   = 'Please enter the text you want to format.\nIt will be appended to the end of the document.'
    var notSavedYet = 'Unsaved changes will be lost.\nReally continue?'
    var DOKU_BASE   = '/'
  </script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/script.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/tw-sack.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/ajax.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/domLib.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/domTT.js"></script>
  <link rel="stylesheet" type="text/css" href="lib/plugins/plugin/style.css" />
</head>
<body>

<p>
Two new global objects are added: <code>ES3_1</code> and <code>SES</code>.  (The names <code>ES3_1</code> and <code>SES</code> will surely be changed.) These objects will have <code>eval</code> methods.
</p>

<p>
<code>ES3_1.eval(</code><em>source</em><code>,</code> <em>context</em><code>)</code><br/>
 <code>SES.eval(</code><em>source</em><code>,</code> <em>context</em><code>)</code>
</p>

<p>
 The string is compiled is compiled as an expression and executed in its own environment, completely isolated from the current environment except that an optional context object can be supplied which provides global variable names and their values. The value of the expression is returned as the value of <code>eval</code>.
</p>

<p>
The existence of the <code>ES3_1</code> object is an indication to script that <code>ES3_1</code> functionality is available. Its <code>eval</code> method assures that <code>this</code> in a function cannot be accidentally bound to the global object.
</p>

<p>
<code>SES.eval</code> employs a safe subset of the ES3_1 grammar, similar to ADsafe and Cajita. It allows for safer delayed loading of guest code.
</p>

<p>
Relevant Goal: <a href="doku.php%3Fid=es3.1:es3.1_goals.html" class="wikilink1" title="es3.1:es3.1_goals" onclick="return svchk()" onkeypress="return svchk()">4</a><br/>
 Relevant Design Principle: <a href="doku.php%3Fid=es3.1:design_principles.html" class="wikilink1" title="es3.1:design_principles" onclick="return svchk()" onkeypress="return svchk()">2a, 2b</a><br/>
 Relevant ES4 proposal: none<br/>

</p>

<p>
 &mdash; <em><a href="mailto:%26%23x70%3B%26%23x72%3B%26%23x61%3B%26%23x74%3B%26%23x61%3B%26%23x70%3B%26%23x6c%3B%26%23x40%3B%26%23x6d%3B%26%23x69%3B%26%23x63%3B%26%23x72%3B%26%23x6f%3B%26%23x73%3B%26%23x6f%3B%26%23x66%3B%26%23x74%3B%26%23x2e%3B%26%23x63%3B%26%23x6f%3B%26%23x6d%3B" class="mail" title="&#x70;&#x72;&#x61;&#x74;&#x61;&#x70;&#x6c;&#x40;&#x6d;&#x69;&#x63;&#x72;&#x6f;&#x73;&#x6f;&#x66;&#x74;&#x2e;&#x63;&#x6f;&#x6d;">Pratap Lakshman</a> 2007/04/15 02:17</em>
</p>

<p>
I assume that after all the recent discussions and investigations into JavaScript capability leaks, that this proposal in the current form has basically been demonstrated to be of no value. There are too many capability leakages in this form. A secure eval really needs to evaluate to a secure ES dialect or evaluate to a shared-nothing vat with a messaging interface to be reasonably safe. None of these currently subset ES4, and therefore this violates the design goals. Can we remove this proposal for now, while we focus security efforts on the development/evangelization of Secure EcmaScript?  &mdash; <em><a href="mailto:%26%23x6b%3B%26%23x7a%3B%26%23x79%3B%26%23x70%3B%26%23x40%3B%26%23x64%3B%26%23x6f%3B%26%23x6a%3B%26%23x6f%3B%26%23x74%3B%26%23x6f%3B%26%23x6f%3B%26%23x6c%3B%26%23x6b%3B%26%23x69%3B%26%23x74%3B%26%23x2e%3B%26%23x6f%3B%26%23x72%3B%26%23x67%3B" class="mail" title="&#x6b;&#x7a;&#x79;&#x70;&#x40;&#x64;&#x6f;&#x6a;&#x6f;&#x74;&#x6f;&#x6f;&#x6c;&#x6b;&#x69;&#x74;&#x2e;&#x6f;&#x72;&#x67;">Kris Zyp</a></em>
</p>
<hr noshade="noshade" size="1" />

<p>
 Agreed. After offline discussion on the es3.x-discuss list, this proposal stands withdrawn.  &mdash; <em><a href="mailto:%26%23x70%3B%26%23x72%3B%26%23x61%3B%26%23x74%3B%26%23x61%3B%26%23x70%3B%26%23x6c%3B%26%23x40%3B%26%23x6d%3B%26%23x69%3B%26%23x63%3B%26%23x72%3B%26%23x6f%3B%26%23x73%3B%26%23x6f%3B%26%23x66%3B%26%23x74%3B%26%23x2e%3B%26%23x63%3B%26%23x6f%3B%26%23x6d%3B" class="mail" title="&#x70;&#x72;&#x61;&#x74;&#x61;&#x70;&#x6c;&#x40;&#x6d;&#x69;&#x63;&#x72;&#x6f;&#x73;&#x6f;&#x66;&#x74;&#x2e;&#x63;&#x6f;&#x6d;">Pratap Lakshman</a> 2008/05/08 14:30</em> 
</p>

<!-- cachefile /usr/local/www/es-lang.org/wiki/data/cache/8/826a2bbe7e14441262c6a48498860b91.xhtml used -->
</body>
</html>
