<html>
<head>
  <meta name="generator" content="DokuWiki Release 2005-09-22e" />
  <link rel="start" href="index.html" />
  <link rel="contents" href="doku.php%3Fid=strawman:promises&amp;do=index.html" title="" />
  <link rel="alternate" type="application/rss+xml" title="Recent Changes" href="feed.php" />
  <link rel="alternate" type="application/rss+xml" title="Current Namespace" href="feed.php%3Fmode=list&amp;ns=strawman" />
  <link rel="alternate" type="text/html" title="Plain HTML" href="doku.php%3Fid=strawman:promises&amp;do=export_html.html" />
  <link rel="alternate" type="text/plain" title="Wiki Markup" href="doku.php%3Fid=strawman:promises&amp;do=export_raw" />
  <link rel="stylesheet" media="screen" type="text/css" href="lib/styles/style.css" />
  <meta name="robots" content="noindex,nofollow" />
  <script language="javascript" type="text/javascript" charset="utf-8">
    var alertText   = 'Please enter the text you want to format.\nIt will be appended to the end of the document.'
    var notSavedYet = 'Unsaved changes will be lost.\nReally continue?'
    var DOKU_BASE   = '/'
  </script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/script.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/tw-sack.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/ajax.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/domLib.js"></script>
  <script language="javascript" type="text/javascript" charset="utf-8" src="lib/scripts/domTT.js"></script>
  <link rel="stylesheet" type="text/css" href="lib/plugins/plugin/style.css" />
</head>
<body>
<div class="toc">
<div class="tocheader"> <script type="text/javascript">showTocToggle("+","-")</script>Table of Contents</div>
<div id="tocinside">
<ul class="toc">
<li class="level1"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#promises" class="toc">Promises</a></span></li>
<li class="level1"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#promiseresolver_objects" class="toc">PromiseResolver Objects</a></span><ul class="toc">
<li class="level2"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#properties_of_promiseresolver_instances" class="toc">Properties of PromiseResolver Instances</a></span><ul class="toc">
<li class="level3"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#fulfill_value" class="toc">fulfill(value)</a></span></li>
<li class="level3"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#resolve_value" class="toc">resolve(value)</a></span></li>
<li class="level3"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#reject_reason" class="toc">reject(reason)</a></span></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#promise_objects" class="toc">Promise Objects</a></span><ul class="toc">
<li class="level2"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#the_promise_constructor_called_as_a_function" class="toc">The Promise Constructor called as a Function</a></span><ul class="toc">
<li class="level3"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#promise_callback" class="toc">Promise(callback)</a></span></li>
</ul>
</li>
<li class="level2"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#the_promise_constructor" class="toc">The Promise Constructor</a></span><ul class="toc">
<li class="level3"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#new_promise_callback" class="toc">new Promise(callback)</a></span></li>
</ul>
</li>
<li class="level2"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#properties_of_the_promise_constructor" class="toc">Properties of the Promise Constructor</a></span><ul class="toc">
<li class="level3"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#promise.prototype" class="toc">Promise.prototype</a></span></li>
<li class="level3"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#promise.of_value" class="toc">Promise.of(value)</a></span></li>
<li class="level3"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#promise.from_value" class="toc">Promise.from(value)</a></span></li>
<li class="level3"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#promise.reject_reason" class="toc">Promise.reject(reason)</a></span></li>
<li class="level3"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#promise.race_...values" class="toc">Promise.race(...values)</a></span></li>
<li class="level3"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#promise.every_...values" class="toc">Promise.every(...values)</a></span></li>
<li class="level3"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#promise.ispromise_value" class="toc">Promise.isPromise(value)</a></span></li>
<li class="level3"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#promise.isthenable_value" class="toc">Promise.isThenable(value)</a></span></li>
<li class="level3"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#promise.async_generatorfunc" class="toc">Promise.async(generatorFunc)</a></span></li>
<li class="level3"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#promise.join_p1_p2" class="toc">Promise.join(p1, p2)</a></span></li>
</ul>
</li>
<li class="level2"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#properties_of_the_promise_prototype_object" class="toc">Properties of the Promise Prototype Object</a></span><ul class="toc">
<li class="level3"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#promise.prototype.chain_onfulfill_onreject" class="toc">Promise.prototype.chain(onFulfill, onReject)</a></span></li>
<li class="level3"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#promise.prototype.then_onfulfill_onreject" class="toc">Promise.prototype.then(onFulfill, onReject)</a></span></li>
<li class="level3"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#promise.prototype.spread_onfulfill_onreject" class="toc">Promise.prototype.spread(onFulfill, onReject)</a></span></li>
<li class="level3"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#promise.prototype.done_onfulfill_onreject" class="toc">Promise.prototype.done(onFulfill, onReject)</a></span></li>
<li class="level3"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#promise.prototype.catch_onreject" class="toc">Promise.prototype.catch(onReject)</a></span></li>
<li class="level3"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#promise.prototype.finally_onsettle" class="toc">Promise.prototype.finally(onSettle)</a></span></li>
<li class="level3"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#promise.prototype.get_name" class="toc">Promise.prototype.get(name)</a></span></li>
<li class="level3"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#promise.prototype.set_name_value" class="toc">Promise.prototype.set(name, value)</a></span></li>
<li class="level3"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#promise.prototype.delete_name" class="toc">Promise.prototype.delete(name)</a></span></li>
<li class="level3"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#promise.prototype.send_name_...args" class="toc">Promise.prototype.send(name, ...args)</a></span></li>
<li class="level3"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#promise.prototype.fcall_...args" class="toc">Promise.prototype.fcall(...args)</a></span></li>
</ul>
</li>
<li class="level2"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#properties_of_promise_instances" class="toc">Properties of Promise Instances</a></span></li>
</ul>
</li>
<li class="level1"><span class="li"><a href="doku.php%3Fid=strawman:promises&amp;do=export_html.html#see" class="toc">See</a></span></li>
</ul>
</div>
</div>

<a name="promises"></a><h1>Promises</h1>
<div class="level1">

</div>
<!-- SECTION [1-24] -->
<a name="promiseresolver_objects"></a><h1>PromiseResolver Objects</h1>
<div class="level1">

<p>
 PromiseResolver objects are made only by the Promise constructor below. They are always paired with a fresh pending promise and control how that promise resolves.
</p>

</div>
<!-- SECTION [25-227] -->
<a name="properties_of_promiseresolver_instances"></a><h2>Properties of PromiseResolver Instances</h2>
<div class="level2">

</div>
<!-- SECTION [228-280] -->
<a name="fulfill_value"></a><h3>fulfill(value)</h3>
<div class="level3">

<p>
 If the promise to be resolved by this PromiseResolver instance has already been resolved, then this call is ignored (or throws?). Otherwise...
</p>

<p>
The promise to be resolved becomes fulfilled with <code>value</code>. The <code>value</code> can be any JavaScript value including another promise.
</p>

</div>
<!-- SECTION [281-581] -->
<a name="resolve_value"></a><h3>resolve(value)</h3>
<div class="level3">

<p>
 If the promise to be resolved by this PromiseResolver instance has already been resolved, then this call is ignored (or throws?). Otherwise...
</p>

<p>
If value is a promise, then the promise to be resolved becomes resolved to follow value. Else the promise to be resolved becomes fulfilled with <code>value</code>.
</p>

</div>
<!-- SECTION [582-907] -->
<a name="reject_reason"></a><h3>reject(reason)</h3>
<div class="level3">

<p>
 If the promise to be resolved by this PromiseResolver instance has already been resolved, then this call is ignored (or throws?). Otherwise...
</p>

<p>
The promise to be resolved becomes rejected with <code>reason</code>. The <code>reason</code> will typically be an Error instance but may be any JavaScript value.
</p>

</div>
<!-- SECTION [908-1223] -->
<a name="promise_objects"></a><h1>Promise Objects</h1>
<div class="level1">

</div>
<!-- SECTION [1224-1254] -->
<a name="the_promise_constructor_called_as_a_function"></a><h2>The Promise Constructor called as a Function</h2>
<div class="level2">

</div>
<!-- SECTION [1255-1312] -->
<a name="promise_callback"></a><h3>Promise(callback)</h3>
<div class="level3">

<p>
 Calling the Promise constructor as a function with <code>this</code> bound to undefined has the same behavior as calling it as a constructor. In other words, <code>Promise(callback)</code> behaves the same as <code>new Promise(callback)</code>. 
</p>

<p>
TODO: Behavior when called via <code>super</code> from a subclass, and perhaps in general when called with its <code>this</code> bound to something.
</p>

</div>
<!-- SECTION [1313-1693] -->
<a name="the_promise_constructor"></a><h2>The Promise Constructor</h2>
<div class="level2">

</div>
<!-- SECTION [1694-1730] -->
<a name="new_promise_callback"></a><h3>new Promise(callback)</h3>
<div class="level3">

<p>
 The Promise constructor calls the callback with a <code>this</code> binding of undefined and a PromiseResolver instance as argument, and returns a promise whose resolution is controlled by that PromiseResolver instance.
</p>

<p>
If the callback throws prior to calling any resolving method on the PromiseResolver, then the PromiseConstructor returns a rejected promise, rejected by the thrown value as the reason.
</p>

</div>
<!-- SECTION [1731-2161] -->
<a name="properties_of_the_promise_constructor"></a><h2>Properties of the Promise Constructor</h2>
<div class="level2">

</div>
<!-- SECTION [2162-2212] -->
<a name="promise.prototype"></a><h3>Promise.prototype</h3>
<div class="level3">

<p>
 Promise.prototype is itself an object, not a promise. (In old terminology, its [[Class]] is &ldquo;Object&rdquo;). It inherits directly from Object.prototype.
</p>

</div>
<!-- SECTION [2213-2393] -->
<a name="promise.of_value"></a><h3>Promise.of(value)</h3>
<div class="level3">

<p>
 Uses its <code>this</code> binding as a constructor. If called with a <code>this</code> binding of undefined, uses the <code>Promise</code> constructor itself as the constructor.
</p>

<p>
Creates and returns a new promise-like instance fulfilled with <code>value</code>. The <code>value</code> can be any JavaScript value, including another Promise. (This is the unconditional lift operation previously known as Promise.fulfill or Future.accept.) The behavior is equivalent to
</p>
<pre class="code javascript">  <span class="kw2">function</span> of<span class="br0">&#40;</span>value<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="kw1">return</span> <span class="kw2">new</span> <span class="kw1">this</span><span class="br0">&#40;</span><span class="br0">&#40;</span><span class="br0">&#123;</span>fulfill<span class="br0">&#125;</span><span class="br0">&#41;</span> =&gt; <span class="br0">&#123;</span>fulfill<span class="br0">&#40;</span>value<span class="br0">&#41;</span>;<span class="br0">&#125;</span><span class="br0">&#41;</span>;
  <span class="br0">&#125;</span></pre>
</div>
<!-- SECTION [2394-2956] -->
<a name="promise.from_value"></a><h3>Promise.from(value)</h3>
<div class="level3">

<p>
 Coerces <code>value</code> to a promise. If <code>value</code> is a promise, then <code>Promise.from(value)</code> returns value. Otherwise, it returns a new promise fulfilled with <code>value</code>.
</p>

</div>
<!-- SECTION [2957-3153] -->
<a name="promise.reject_reason"></a><h3>Promise.reject(reason)</h3>
<div class="level3">

<p>
 Uses its <code>this</code> binding as a constructor. If called with a <code>this</code> binding of undefined, uses the <code>Promise</code> constructor itself as the constructor.
</p>

<p>
Returns a new promise-like rejected by <code>reason</code>. Equivalent to
</p>
<pre class="code javascript">  <span class="kw2">function</span> of<span class="br0">&#40;</span>value<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="kw1">return</span> <span class="kw2">new</span> <span class="kw1">this</span><span class="br0">&#40;</span><span class="br0">&#40;</span><span class="br0">&#123;</span>reject<span class="br0">&#125;</span><span class="br0">&#41;</span> =&gt; <span class="br0">&#123;</span>reject<span class="br0">&#40;</span>value<span class="br0">&#41;</span>;<span class="br0">&#125;</span><span class="br0">&#41;</span>;
  <span class="br0">&#125;</span></pre>
</div>
<!-- SECTION [3154-3514] -->
<a name="promise.race_...values"></a><h3>Promise.race(...values)</h3>
<div class="level3">

<p>
 Registers <code>.then</code> callbacks on each of the values as coerced to promise-likes (using its <code>this</code> binding). Returns whichever value is first noticed to have responded.
</p>

</div>
<!-- SECTION [3515-3720] -->
<a name="promise.every_...values"></a><h3>Promise.every(...values)</h3>
<div class="level3">

<p>
 Registers <code>.then</code> callbacks on each of the values as coerced to promise-likes (using its <code>this</code> binding). Returns either when all of these are fulfilled or any are rejected. If all are fulfilled, returns an array of these fulfilled value. If any are rejected, returns whichever it notices to have been rejected first.
</p>

</div>
<!-- SECTION [3721-4079] -->
<a name="promise.ispromise_value"></a><h3>Promise.isPromise(value)</h3>
<div class="level3">

</div>
<!-- SECTION [4080-4115] -->
<a name="promise.isthenable_value"></a><h3>Promise.isThenable(value)</h3>
<div class="level3">

</div>
<!-- SECTION [4116-4152] -->
<a name="promise.async_generatorfunc"></a><h3>Promise.async(generatorFunc)</h3>
<div class="level3">

</div>
<!-- SECTION [4153-4192] -->
<a name="promise.join_p1_p2"></a><h3>Promise.join(p1, p2)</h3>
<div class="level3">

</div>
<!-- SECTION [4193-4225] -->
<a name="properties_of_the_promise_prototype_object"></a><h2>Properties of the Promise Prototype Object</h2>
<div class="level2">

</div>
<!-- SECTION [4226-4282] -->
<a name="promise.prototype.chain_onfulfill_onreject"></a><h3>Promise.prototype.chain(onFulfill, onReject)</h3>
<div class="level3">

</div>
<!-- SECTION [4283-4338] -->
<a name="promise.prototype.then_onfulfill_onreject"></a><h3>Promise.prototype.then(onFulfill, onReject)</h3>
<div class="level3">

</div>
<!-- SECTION [4339-4393] -->
<a name="promise.prototype.spread_onfulfill_onreject"></a><h3>Promise.prototype.spread(onFulfill, onReject)</h3>
<div class="level3">

</div>
<!-- SECTION [4394-4450] -->
<a name="promise.prototype.done_onfulfill_onreject"></a><h3>Promise.prototype.done(onFulfill, onReject)</h3>
<div class="level3">

</div>
<!-- SECTION [4451-4505] -->
<a name="promise.prototype.catch_onreject"></a><h3>Promise.prototype.catch(onReject)</h3>
<div class="level3">

</div>
<!-- SECTION [4506-4550] -->
<a name="promise.prototype.finally_onsettle"></a><h3>Promise.prototype.finally(onSettle)</h3>
<div class="level3">

</div>
<!-- SECTION [4551-4597] -->
<a name="promise.prototype.get_name"></a><h3>Promise.prototype.get(name)</h3>
<div class="level3">

</div>
<!-- SECTION [4598-4636] -->
<a name="promise.prototype.set_name_value"></a><h3>Promise.prototype.set(name, value)</h3>
<div class="level3">

</div>
<!-- SECTION [4637-4682] -->
<a name="promise.prototype.delete_name"></a><h3>Promise.prototype.delete(name)</h3>
<div class="level3">

</div>
<!-- SECTION [4683-4724] -->
<a name="promise.prototype.send_name_...args"></a><h3>Promise.prototype.send(name, ...args)</h3>
<div class="level3">

</div>
<!-- SECTION [4725-4773] -->
<a name="promise.prototype.fcall_...args"></a><h3>Promise.prototype.fcall(...args)</h3>
<div class="level3">

</div>
<!-- SECTION [4774-4818] -->
<a name="properties_of_promise_instances"></a><h2>Properties of Promise Instances</h2>
<div class="level2">

</div>
<!-- SECTION [4819-4865] -->
<a name="see"></a><h1>See</h1>
<div class="level1">

<p>
 <a href="doku.php%3Fid=strawman:concurrency.html" class="wikilink1" title="strawman:concurrency" onclick="return svchk()" onkeypress="return svchk()">concurrency</a> 
</p>

<p>
<a href="doku.php%3Fid=strawman:async_functions.html" class="wikilink1" title="strawman:async_functions" onclick="return svchk()" onkeypress="return svchk()">async_functions</a> 
</p>

<p>
<a href="https://github.com/promises-aplus/promises-spec" class="urlextern" target="_blank" title="https://github.com/promises-aplus/promises-spec" onclick="return svchk()" onkeypress="return svchk()" rel="nofollow">Promises/A+</a>
</p>

<p>
<a href="https://github.com/kriskowal/q/wiki/API-Reference" class="urlextern" target="_blank" title="https://github.com/kriskowal/q/wiki/API-Reference" onclick="return svchk()" onkeypress="return svchk()" rel="nofollow">Q</a>
</p>

<p>
<a href="https://github.com/slightlyoff/Futures/blob/master/Promise.idl" class="urlextern" target="_blank" title="https://github.com/slightlyoff/Futures/blob/master/Promise.idl" onclick="return svchk()" onkeypress="return svchk()" rel="nofollow">Promise.idl</a>
</p>

<p>
<a href="http://dherman.github.io/taskjs/" class="urlextern" target="_blank" title="http://dherman.github.io/taskjs/" onclick="return svchk()" onkeypress="return svchk()" rel="nofollow">Task.js</a>
</p>

<p>
<a href="lib/exe/fetch.php%3Fid=strawman%253Apromises&amp;cache=cache&amp;media=strawman:promisesvsmonads2.pdf" class="urlextern" title="strawman:promisesvsmonads2.pdf" style="background-image: url(lib/images/fileicons/pdf.png)" onclick="return svchk()" onkeypress="return svchk()">Promises vs. Monads</a> Slide Deck
</p>

<p>
<a href="http://erights.org/talks/promises/paper/tgc05.pdf" class="urlextern" target="_blank" title="http://erights.org/talks/promises/paper/tgc05.pdf" onclick="return svchk()" onkeypress="return svchk()" rel="nofollow">Concurrency Among Strangers</a>
</p>

<p>
<a href="http://static.googleusercontent.com/external_content/untrusted_dlcp/research.google.com/en/us/pubs/archive/40673.pdf" class="urlextern" target="_blank" title="http://static.googleusercontent.com/external_content/untrusted_dlcp/research.google.com/en/us/pubs/archive/40673.pdf" onclick="return svchk()" onkeypress="return svchk()" rel="nofollow">Distributed Electronic Rights in JavaScript</a> 
</p>

</div>
<!-- SECTION [4866-] -->
<!-- cachefile /usr/local/www/es-lang.org/wiki/data/cache/8/8c2cba16d7b80983fff2acfe5f6ec8b6.xhtml used -->
</body>
</html>
